import{_ as s,o as n,c as a,a as l}from"./app.a9f825fd.js";const m=JSON.parse('{"title":"\u5256\u6790\u65E0\u5904\u4E0D\u5728\u7684\u6570\u636E\u7ED3\u6784","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u6570\u636E\u7ED3\u6784\u548C\u5B66\u4E60\u65B9\u6CD5\u6982\u89C8","slug":"\u6570\u636E\u7ED3\u6784\u548C\u5B66\u4E60\u65B9\u6CD5\u6982\u89C8","link":"#\u6570\u636E\u7ED3\u6784\u548C\u5B66\u4E60\u65B9\u6CD5\u6982\u89C8","children":[]},{"level":2,"title":"\u5806\u6808\u548C\u961F\u5217","slug":"\u5806\u6808\u548C\u961F\u5217","link":"#\u5806\u6808\u548C\u961F\u5217","children":[]},{"level":2,"title":"\u94FE\u8868\uFF08\u5355\u5411\u94FE\u8868\u548C\u53CC\u5411\u94FE\u8868\uFF09","slug":"\u94FE\u8868\uFF08\u5355\u5411\u94FE\u8868\u548C\u53CC\u5411\u94FE\u8868\uFF09","link":"#\u94FE\u8868\uFF08\u5355\u5411\u94FE\u8868\u548C\u53CC\u5411\u94FE\u8868\uFF09","children":[]},{"level":2,"title":"\u94FE\u8868\u5B9E\u73B0","slug":"\u94FE\u8868\u5B9E\u73B0","link":"#\u94FE\u8868\u5B9E\u73B0","children":[]},{"level":2,"title":"\u6811","slug":"\u6811","link":"#\u6811","children":[{"level":3,"title":"\u4E8C\u53C9\u641C\u7D22\u6811\u7684\u5B9E\u73B0\u548C\u904D\u5386","slug":"\u4E8C\u53C9\u641C\u7D22\u6811\u7684\u5B9E\u73B0\u548C\u904D\u5386","link":"#\u4E8C\u53C9\u641C\u7D22\u6811\u7684\u5B9E\u73B0\u548C\u904D\u5386","children":[]},{"level":3,"title":"\u5B57\u5178\u6811","slug":"\u5B57\u5178\u6811","link":"#\u5B57\u5178\u6811","children":[]},{"level":3,"title":"\u5B57\u5178\u6811\u7684\u5B9E\u73B0\u548C\u904D\u5386","slug":"\u5B57\u5178\u6811\u7684\u5B9E\u73B0\u548C\u904D\u5386","link":"#\u5B57\u5178\u6811\u7684\u5B9E\u73B0\u548C\u904D\u5386","children":[]}]},{"level":2,"title":"\u56FE","slug":"\u56FE","link":"#\u56FE","children":[{"level":3,"title":"\u56FE\u7684\u5B9E\u73B0\u548C\u904D\u5386","slug":"\u56FE\u7684\u5B9E\u73B0\u548C\u904D\u5386","link":"#\u56FE\u7684\u5B9E\u73B0\u548C\u904D\u5386","children":[]},{"level":3,"title":"\u56FE\u5728\u524D\u7AEF\u4E2D\u7684\u5E94\u7528","slug":"\u56FE\u5728\u524D\u7AEF\u4E2D\u7684\u5E94\u7528","link":"#\u56FE\u5728\u524D\u7AEF\u4E2D\u7684\u5E94\u7528","children":[]}]},{"level":2,"title":"\u6563\u5217\u8868\uFF08\u54C8\u5E0C\u8868\uFF09","slug":"\u6563\u5217\u8868\uFF08\u54C8\u5E0C\u8868\uFF09","link":"#\u6563\u5217\u8868\uFF08\u54C8\u5E0C\u8868\uFF09","children":[]},{"level":2,"title":"\u6563\u5217\u8868\u7684\u5B9E\u73B0","slug":"\u6563\u5217\u8868\u7684\u5B9E\u73B0","link":"#\u6563\u5217\u8868\u7684\u5B9E\u73B0","children":[]},{"level":2,"title":"\u603B\u7ED3","slug":"\u603B\u7ED3","link":"#\u603B\u7ED3","children":[]}],"relativePath":"advanced-core-knowledage-front-end/bian-cheng-si-wei-he-suan-fa/039-pou-xi-wu-chu-bu-zai-de-shu-ju-jie-gou.md","lastUpdated":1676385096000}'),p={name:"advanced-core-knowledage-front-end/bian-cheng-si-wei-he-suan-fa/039-pou-xi-wu-chu-bu-zai-de-shu-ju-jie-gou.md"},e=l(`<h1 id="\u5256\u6790\u65E0\u5904\u4E0D\u5728\u7684\u6570\u636E\u7ED3\u6784" tabindex="-1">\u5256\u6790\u65E0\u5904\u4E0D\u5728\u7684\u6570\u636E\u7ED3\u6784 <a class="header-anchor" href="#\u5256\u6790\u65E0\u5904\u4E0D\u5728\u7684\u6570\u636E\u7ED3\u6784" aria-hidden="true">#</a></h1><p>\u6570\u636E\u7ED3\u6784\u662F\u8BA1\u7B97\u673A\u4E2D\u7EC4\u7EC7\u548C\u5B58\u50A8\u6570\u636E\u7684\u7279\u5B9A\u65B9\u5F0F\uFF0C\u5B83\u7684\u76EE\u7684\u662F\u65B9\u4FBF\u4E14\u9AD8\u6548\u5730\u5BF9\u6570\u636E\u8FDB\u884C\u8BBF\u95EE\u548C\u4FEE\u6539\u3002\u6570\u636E\u7ED3\u6784\u8868\u8FF0\u4E86\u6570\u636E\u4E4B\u95F4\u7684\u5173\u7CFB\uFF0C\u4EE5\u53CA\u64CD\u4F5C\u6570\u636E\u7684\u4E00\u7CFB\u5217\u65B9\u6CD5\u3002\u6570\u636E\u53C8\u662F\u7A0B\u5E8F\u7684\u57FA\u672C\u5355\u5143\uFF0C\u56E0\u6B64\u65E0\u8BBA\u662F\u54EA\u79CD\u8BED\u8A00\u3001\u54EA\u79CD\u9886\u57DF\uFF0C\u90FD\u79BB\u4E0D\u5F00\u6570\u636E\u7ED3\u6784\uFF1B\u53E6\u4E00\u65B9\u9762\uFF0C\u6570\u636E\u7ED3\u6784\u662F\u7B97\u6CD5\u7684\u57FA\u7840\uFF0C\u5176\u672C\u8EAB\u4E5F\u5305\u542B\u4E86\u7B97\u6CD5\u7684\u90E8\u5206\u5185\u5BB9\u3002\u4E5F\u5C31\u662F\u8BF4\uFF0C\u60F3\u8981\u638C\u63E1\u7B97\u6CD5\uFF0C\u5148\u6709\u4E00\u4E2A\u5DE9\u56FA\u7684\u6570\u636E\u7ED3\u6784\u57FA\u7840\u662F\u5FC5\u8981\u6761\u4EF6\u3002</p><p>\u524D\u7AEF\u9886\u57DF\u4E5F\u5230\u5904\u4F53\u73B0\u7740\u6570\u636E\u7ED3\u6784\u7684\u5E94\u7528\uFF0C\u5C24\u5176\u662F\u968F\u7740\u9700\u6C42\u7684\u590D\u6742\u5EA6\u4E0A\u5347\uFF0C\u524D\u7AEF\u5DE5\u7A0B\u5E08\u8D8A\u6765\u8D8A\u79BB\u4E0D\u5F00\u6570\u636E\u7ED3\u6784\u3002React\u3001Vue \u8FD9\u4E9B\u8BBE\u8BA1\u7CBE\u5DE7\u7684\u6846\u67B6\uFF0C\u5728\u7EBF\u6587\u6863\u7F16\u8F91\u7CFB\u7EDF\u3001\u5927\u578B\u7BA1\u7406\u7CFB\u7EDF\uFF0C\u751A\u81F3\u4E00\u4E2A\u7B80\u5355\u7684\u68C0\u7D22\u9700\u6C42\uFF0C\u90FD\u79BB\u4E0D\u5F00\u6570\u636E\u7ED3\u6784\u7684\u652F\u6301\u3002\u662F\u5426\u80FD\u591F\u638C\u63E1\u8FD9\u4E2A\u96BE\u70B9\u5185\u5BB9\uFF0C\u5C06\u662F\u8FDB\u9636\u7684\u91CD\u8981\u8003\u91CF\u3002\u6211\u4EEC\u5E94\u8BE5\u5982\u4F55\u5B66\u4E60\u6570\u636E\u7ED3\u6784\u5462\uFF1F</p><p>\u4E0B\u56FE\u662F\u672C\u8BB2\u5185\u5BB9\u7684\u63D0\u7EB2\u3002</p><p><img src="https://images.gitbook.cn/87934440-d04f-11e9-bec2-e1649ddaac83" alt=""></p><h2 id="\u6570\u636E\u7ED3\u6784\u548C\u5B66\u4E60\u65B9\u6CD5\u6982\u89C8" tabindex="-1">\u6570\u636E\u7ED3\u6784\u548C\u5B66\u4E60\u65B9\u6CD5\u6982\u89C8 <a class="header-anchor" href="#\u6570\u636E\u7ED3\u6784\u548C\u5B66\u4E60\u65B9\u6CD5\u6982\u89C8" aria-hidden="true">#</a></h2><p>\u6211\u901A\u5E38\u5C06\u6570\u636E\u7ED3\u6784\u5206\u4E3A\u516B\u5927\u7C7B\uFF1A</p><ul><li>\u6570\u7EC4\uFF1AArray</li><li>\u5806\u6808\uFF1AStack</li><li>\u961F\u5217\uFF1AQueue</li><li>\u94FE\u8868\uFF1ALinked Lists</li><li>\u6811\uFF1ATrees</li><li>\u56FE\uFF1AGraphs</li><li>\u5B57\u5178\u6811\uFF1ATrie</li><li>\u6563\u5217\u8868\uFF08\u54C8\u5E0C\u8868\uFF09\uFF1AHash Tables</li></ul><p>\u8FD9\u4E48\u591A\u7684\u7C7B\u578B\uFF0C\u8FD9\u8282\u8BFE\u8BE5\u5982\u4F55\u4ECB\u7ECD\u5462\uFF1F\u6211\u8BA4\u4E3A\uFF0C\u6309\u90E8\u5C31\u73ED\u5730\u53EA\u662F\u5B9E\u73B0\u5404\u79CD\u6570\u636E\u7ED3\u6784\u7684\u610F\u4E49\u4E0D\u5927\uFF0C\u8FD9\u4E9B\u5185\u5BB9\u8BFB\u8005\u90FD\u53EF\u4EE5\u4ECE\u7B97\u6CD5\u4E66\u7C4D\u4E2D\u627E\u5230\u3002\u66F4\u91CD\u8981\u5730\u662F\u5E94\u7528\uFF0C\u4E5F\u53EA\u6709\u5728\u5E94\u7528\u4E2D\uFF0C\u624D\u80FD\u771F\u6B63\u5730\u8BB0\u4F4F\u5E76\u638C\u63E1\u7279\u5B9A\u7684\u6570\u636E\u7ED3\u6784\uFF0C\u624D\u80FD\u5728\u4E0B\u6B21\u6709\u7C7B\u4F3C\u573A\u666F\u65F6\uFF0C\u80FD\u591F\u60F3\u8D77\u6765\u76F8\u5173\u7684\u6570\u636E\u7ED3\u6784\u5B9E\u73B0\u3002\u56E0\u6B64\uFF0C\u8FD9\u8282\u8BFE\u7A0B\u6211\u5C06\u4ECE\u524D\u7AEF\u51FA\u53D1\uFF0C\u4ECE\u524D\u7AEF\u7C7B\u5E93\u6216\u8005\u5178\u578B\u573A\u666F\u5165\u624B\uFF0C\u7ED3\u5408\u6570\u636E\u7ED3\u6784\u6765\u5256\u6790\u5176\u5B9E\u73B0\u548C\u5E94\u7528\u3002\u8FD9\u9700\u8981\u8BFB\u8005\u9996\u5148\u5BF9\u6BCF\u79CD\u6570\u636E\u7ED3\u6784\u6709\u4E00\u4E2A\u5927\u6982\u8BA4\u77E5\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5148\u6765\u7EC6\u5316\u611F\u77E5\u4E00\u4E0B\uFF1A</p><ul><li>\u6808\u548C\u961F\u5217\u662F\u7C7B\u4F3C\u6570\u7EC4\u7684\u7ED3\u6784\uFF0C\u975E\u5E38\u591A\u7684\u521D\u7EA7\u9898\u76EE\u8981\u6C42\u7528\u6570\u7EC4\u5B9E\u73B0\u6808\u548C\u961F\u5217\uFF0C\u4ED6\u4EEC\u5728\u63D2\u5165\u548C\u5220\u9664\u7684\u65B9\u5F0F\u4E0A\u548C\u6570\u7EC4\u6709\u6240\u5DEE\u5F02\uFF0C\u4F46\u662F\u5B9E\u73B0\u8FD8\u662F\u975E\u5E38\u7B80\u5355\u7684\uFF1B</li><li>\u94FE\u8868\u3001\u6811\u548C\u56FE\u8FD9\u79CD\u6570\u636E\u7ED3\u6784\u7684\u7279\u70B9\u662F\uFF0C\u5176\u8282\u70B9\u9700\u8981\u5F15\u7528\u5230\u5176\u4ED6\u8282\u70B9\uFF0C\u56E0\u6B64\u5728\u589E\u5220\u65F6\uFF0C\u9700\u8981\u6CE8\u610F\u5BF9\u76F8\u5173\u524D\u9A71\u548C\u540E\u7EE7\u8282\u70B9\u7684\u5F71\u54CD\uFF1B</li><li>\u53EF\u4EE5\u4ECE\u5806\u6808\u548C\u961F\u5217\u51FA\u53D1\uFF0C\u6784\u5EFA\u51FA\u94FE\u8868\uFF1B</li><li>\u6811\u548C\u56FE\u6700\u4E3A\u590D\u6742\uFF0C\u56E0\u4E3A\u4ED6\u4EEC\u672C\u8D28\u4E0A\u662F\u6269\u5C55\u4E86\u94FE\u8868\u7684\u6982\u5FF5\uFF1B</li><li>\u6563\u5217\u8868\u7684\u5173\u952E\u662F\u7406\u89E3\u6563\u5217\u51FD\u6570\uFF0C\u660E\u767D\u4F9D\u8D56\u6563\u5217\u51FD\u6570\u5B9E\u73B0\u4FDD\u5B58\u548C\u5B9A\u4F4D\u6570\u636E\u7684\u8FC7\u7A0B\uFF1B</li><li>\u76F4\u89C2\u4E0A\u8BA4\u4E3A\uFF0C\u94FE\u8868\u9002\u5408\u8BB0\u5F55\u548C\u5B58\u50A8\u6570\u636E\uFF1B\u54C8\u5E0C\u8868\u548C\u5B57\u5178\u6811\u5728\u68C0\u7D22\u6570\u636E\u4EE5\u53CA\u641C\u7D22\u65B9\u9762\u6709\u66F4\u5927\u7684\u5E94\u7528\u573A\u666F\u3002</li></ul><p>\u4EE5\u4E0A\u8FD9\u4E9B\u201C\u76F4\u89C2\u611F\u6027\u201D\u7684\u8BA4\u77E5\u5E76\u4E0D\u662F\u201C\u6052\u7B49\u5F0F\u201D\uFF0C <strong>\u6211\u4EEC\u5C06\u5728\u4E0B\u9762\u7684\u5B66\u4E60\u4E2D\u53BB\u5370\u8BC1\u8FD9\u4E9B\u201C\u8BA4\u77E5\u201D\uFF0C\u4F60\u5C06\u4F1A\u770B\u5230\u719F\u6089\u7684 React\u3001Vue \u6846\u67B6\u7684\u90E8\u5206\u5B9E\u73B0\uFF0C\u5C06\u4F1A\u770B\u5230\u5178\u578B\u7684\u7B97\u6CD5\u573A\u666F\uFF0C\u4E5F\u8BF7\u8BFB\u8005\u505A\u597D\u57FA\u7840\u77E5\u8BC6\u7684\u50A8\u5907\u3002</strong></p><h2 id="\u5806\u6808\u548C\u961F\u5217" tabindex="-1">\u5806\u6808\u548C\u961F\u5217 <a class="header-anchor" href="#\u5806\u6808\u548C\u961F\u5217" aria-hidden="true">#</a></h2><p>\u6808\u548C\u961F\u5217\u662F\u4E00\u79CD\u64CD\u4F5C\u53D7\u9650\u7684\u7EBF\u6027\u7ED3\u6784\uFF0C\u5B83\u4EEC\u975E\u5E38\u7B80\u5355\uFF0C\u867D\u7136 JavaScript \u5E76\u6CA1\u6709\u539F\u751F\u5185\u7F6E\u8FD9\u6837\u7684\u6570\u636E\u7ED3\u6784\uFF0C\u4F46\u662F\u6211\u4EEC\u53EF\u4EE5\u8F7B\u677E\u5730\u6A21\u62DF\u51FA\u6765\u3002</p><p>\u6808\u7684\u5B9E\u73B0\uFF0C\u540E\u8FDB\u5148\u51FA LIFO\uFF08Last in\u3001First out\uFF09\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">class Stack {</span></span>
<span class="line"><span style="color:#A6ACCD;">  constructor(...args) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    this.stack = [...args]</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  // Modifiers</span></span>
<span class="line"><span style="color:#A6ACCD;">  push(...items) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    return this.stack.push(... items)</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  pop() {</span></span>
<span class="line"><span style="color:#A6ACCD;">    return this.stack.pop()</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  // Element access</span></span>
<span class="line"><span style="color:#A6ACCD;">  peek() {</span></span>
<span class="line"><span style="color:#A6ACCD;">    return this.isEmpty() </span></span>
<span class="line"><span style="color:#A6ACCD;">        ? undefined</span></span>
<span class="line"><span style="color:#A6ACCD;">        : this.stack[this.size() - 1]</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  // Capacity</span></span>
<span class="line"><span style="color:#A6ACCD;">  isEmpty() {</span></span>
<span class="line"><span style="color:#A6ACCD;">    return this.size() == 0</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  size() {</span></span>
<span class="line"><span style="color:#A6ACCD;">    return this.stack.length</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>\u961F\u5217\u7684\u5B9E\u73B0\uFF0C\u5148\u8FDB\u5148\u51FA FIFO\uFF08First in\u3001First out\uFF09\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">class Queue {</span></span>
<span class="line"><span style="color:#A6ACCD;">  constructor(...args) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    this.queue = [...args]</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  // Modifiers</span></span>
<span class="line"><span style="color:#A6ACCD;">  enqueue(...items) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    return this.queue.push(... items)</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  dequeue() {</span></span>
<span class="line"><span style="color:#A6ACCD;">    return this.queue.shift()</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  // Element access</span></span>
<span class="line"><span style="color:#A6ACCD;">  front() { </span></span>
<span class="line"><span style="color:#A6ACCD;">    return this.isEmpty()</span></span>
<span class="line"><span style="color:#A6ACCD;">        ? undefined</span></span>
<span class="line"><span style="color:#A6ACCD;">        : this.queue[0]</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  back() {</span></span>
<span class="line"><span style="color:#A6ACCD;">    return this.isEmpty()</span></span>
<span class="line"><span style="color:#A6ACCD;">        ? undefined</span></span>
<span class="line"><span style="color:#A6ACCD;">        : this.queue[this.size() - 1]</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  // Capacity</span></span>
<span class="line"><span style="color:#A6ACCD;">  isEmpty() {</span></span>
<span class="line"><span style="color:#A6ACCD;">    return this.size() == 0</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  size() {</span></span>
<span class="line"><span style="color:#A6ACCD;">    return this.queue.length</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><p>\u5173\u4E8E\u6808\u548C\u961F\u5217\u7684\u5B9E\u9645\u5E94\u7528\u6BD4\u6BD4\u7686\u662F\uFF1A</p><ul><li>\u6D4F\u89C8\u5668\u7684\u5386\u53F2\u8BB0\u5F55\uFF0C\u56E0\u4E3A\u56DE\u9000\u603B\u662F\u56DE\u9000\u201C\u4E0A\u4E00\u4E2A\u201D\u6700\u8FD1\u7684\u9875\u9762\uFF0C\u5B83\u9700\u8981\u9075\u5FAA\u6808\u7684\u539F\u5219\uFF1B</li><li>\u7C7B\u4F3C\u6D4F\u89C8\u5668\u7684\u5386\u53F2\u8BB0\u5F55\uFF0C\u4EFB\u4F55 undo/redo \u90FD\u662F\u4E00\u4E2A\u6808\u7684\u5B9E\u73B0\uFF1B</li><li>\u5728\u4EE3\u7801\u4E2D\uFF0C\u5E7F\u6CDB\u5E94\u7528\u7684\u9012\u5F52\u4EA7\u751F\u7684\u8C03\u7528\u6808\uFF0C\u540C\u6837\u4E5F\u662F\u6808\u601D\u60F3\u7684\u4F53\u73B0\uFF0C\u60F3\u60F3\u6211\u4EEC\u5E38\u8BF4\u7684\u201C\u6808\u6EA2\u51FA\u201D\u5C31\u662F\u8FD9\u4E2A\u9053\u7406\uFF1B</li><li>\u540C\u4E0A\uFF0C\u6D4F\u89C8\u5668\u5728\u629B\u51FA\u5F02\u5E38\u65F6\uFF0C\u5E38\u89C4\u90FD\u4F1A\u629B\u51FA\u8C03\u7528\u6808\u4FE1\u606F\uFF1B</li><li>\u5728\u8BA1\u7B97\u673A\u79D1\u5B66\u9886\u57DF\u5E94\u7528\u5E7F\u6CDB\uFF0C\u5982\u8FDB\u5236\u8F6C\u6362\u3001\u62EC\u53F7\u5339\u914D\u3001\u6808\u6DF7\u6D17\u3001\u8868\u8FBE\u5F0F\u6C42\u503C\u7B49\uFF1B</li><li>\u961F\u5217\u7684\u5E94\u7528\u66F4\u4E3A\u76F4\u89C2\uFF0C\u6211\u4EEC\u5E38\u8BF4\u7684\u5B8F\u4EFB\u52A1 / \u5FAE\u4EFB\u52A1\u90FD\u662F\u961F\u5217\uFF0C\u4E0D\u7BA1\u662F\u4EC0\u4E48\u7C7B\u578B\u7684\u4EFB\u52A1\uFF0C\u90FD\u662F\u5148\u8FDB\u5148\u6267\u884C\uFF1B</li><li>\u540E\u7AEF\u4E5F\u5E94\u7528\u5E7F\u6CDB\uFF0C\u5982\u6D88\u606F\u961F\u5217\u3001RabbitMQ\u3001ActiveMQ \u7B49\uFF0C\u80FD\u8D77\u5230\u5EF6\u8FDF\u7F13\u51B2\u7684\u529F\u6548\u3002</li></ul><p>\u6211\u4EEC\u770B\u5230\u4E0D\u7BA1\u662F\u6808\u8FD8\u662F\u961F\u5217\uFF0C\u90FD\u662F\u7528\u6570\u7EC4\u6765\u6A21\u62DF\u7684\u3002\u6570\u7EC4\u662F\u6700\u57FA\u672C\u7684\u6570\u636E\u7ED3\u6784\uFF0C\u4F46\u662F\u5B83\u7684\u4EF7\u503C\u662F\u60CA\u4EBA\u7684\uFF0C\u8FD9\u91CC\u7A0D\u5FAE\u63D0\u4E00\u4E0B React hooks \u7684\u672C\u8D28\u5C31\u662F\u6570\u7EC4\u3002\u7ED9\u5927\u5BB6\u63A8\u8350\u6587\u7AE0\uFF1A<a href="https://medium.com/@ryardley/react-hooks-not-magic-just-arrays-%20cd4f1857236e" target="_blank" rel="noreferrer">React hooks: not magic, just arrays</a></p><p>\u53E6\u5916\uFF0C\u4E0E\u6027\u80FD\u540E\u8BDD\u76F8\u5173\uFF0CHTTP 1.1 \u6709\u4E00\u4E2A\u961F\u5934\u963B\u585E\u95EE\u9898\uFF0C\u8FD9\u4E2A\u539F\u56E0\u5C31\u5728\u4E8E\u961F\u5217\u8FD9\u6837\u7684\u6570\u636E\u7ED3\u6784\uFF1A\u6211\u4EEC\u5148\u770B HTTP 1.0\uFF0C\u5BF9\u4E8E\u540C\u4E00\u4E2A tcp \u8FDE\u63A5\uFF0CHTTP 1.0 \u662F\u5C06\u6240\u6709\u8BF7\u6C42\u90FD\u653E\u5165\u961F\u5217\u5F53\u4E2D\uFF0C\u8FD9\u4E48\u4E00\u6765\uFF0C\u5728\u5BA2\u6237\u7AEF\uFF0C\u201C\u5148\u8FDB\u5148\u51FA\u201D\uFF0C\u53EA\u6709\u524D\u4E00\u4E2A\u8BF7\u6C42\u5F97\u5230\u4E86\u54CD\u5E94\uFF0C\u4E0B\u4E00\u4E2A\u8BF7\u6C42\u624D\u4F1A\u53D1\u51FA\u3002\u5728 HTTP 1.1 \u4E2D\uFF0C\u8FD9\u6837\u7684\u60C5\u51B5\u5F97\u5230\u4E86\u6539\u89C2\uFF0C\u6BCF\u4E00\u4E2A\u94FE\u63A5\u90FD\u9ED8\u8BA4\u662F\u957F\u94FE\u63A5\uFF0C\u56E0\u6B64\u5BF9\u4E8E\u540C\u4E00\u4E2A tcp \u94FE\u63A5\uFF0C\u4E0D\u5FC5\u7B49\u5230\u524D\u4E00\u4E2A\u54CD\u5E94\u56DE\u6765\u3002\u4F46\u662F\u8FD9\u53EA\u662F\u89E3\u51B3\u4E86\u5BA2\u6237\u7AEF\u7684\u961F\u5934\u963B\u585E\u95EE\u9898\uFF0C\u4E8B\u5B9E\u4E0A\uFF0CHTTP 1.1 \u89C4\u5B9A\uFF1A\u670D\u52A1\u7AEF\u7684\u54CD\u5E94\u8FD4\u56DE\u987A\u5E8F\u9700\u8981\u9075\u5FAA\u5176\u63A5\u6536\u5230\u76F8\u5E94\u7684\u987A\u5E8F\uFF0C\u8FD9\u6837\u7684\u95EE\u9898\u662F\uFF1A\u5982\u679C\u7B2C\u4E00\u4E2A\u8BF7\u6C42\u5904\u7406\u9700\u8981\u8F83\u957F\u65F6\u95F4\uFF0C\u54CD\u5E94\u8F83\u6162\uFF0C\u4E5F\u90FD\u4F1A\u201C\u62D6\u7D2F\u201D\u5176\u4ED6\u540E\u7EED\u8BF7\u6C42\u7684\u54CD\u5E94\uFF0C\u8FD9\u4ECD\u7136\u662F\u4E00\u79CD\u961F\u5934\u963B\u585E\u3002</p><p>HTTP 2 \u91C7\u7528\u4E86\u4E8C\u8FDB\u5236\u5206\u5E27\u548C\u591A\u8DEF\u590D\u7528\u7B49\u65B9\u6CD5\uFF0C \u540C\u57DF\u540D\u4E0B\u7684\u901A\u4FE1\u90FD\u662F\u5728\u540C\u4E00\u4E2A\u8FDE\u63A5\u4E0A\u5B8C\u6210\uFF0C\u5E76\u4E14\u8FD9\u79CD\u94FE\u63A5\u662F\u53CC\u5411\u7684\uFF0C\u5728\u8FD9\u4E2A\u94FE\u63A5\u4E0A\u53EF\u4EE5\u5E76\u884C\u8BF7\u6C42\u548C\u54CD\u5E94\u800C\u4E92\u4E0D\u5E72\u6270\u3002</p><p>\u8FD9\u91CC\u5EF6\u4F38\u7684\u6709\u70B9\u591A\u4E86\uFF0C\u4E3B\u8981\u662F\u8BFB\u8005\u9700\u8981\u660E\u767D\u961F\u5217\u548C\u6808\u8FD9\u79CD\u6570\u636E\u7ED3\u6784\u7684\u5E94\u7528\uFF0C\u4EE5\u53CA\u5229\u5F0A\u3002</p><h2 id="\u94FE\u8868\uFF08\u5355\u5411\u94FE\u8868\u548C\u53CC\u5411\u94FE\u8868\uFF09" tabindex="-1">\u94FE\u8868\uFF08\u5355\u5411\u94FE\u8868\u548C\u53CC\u5411\u94FE\u8868\uFF09 <a class="header-anchor" href="#\u94FE\u8868\uFF08\u5355\u5411\u94FE\u8868\u548C\u53CC\u5411\u94FE\u8868\uFF09" aria-hidden="true">#</a></h2><p>\u5806\u6808\u548C\u961F\u5217\u90FD\u53EF\u4EE5\u7528\u6570\u7EC4\u5B9E\u73B0\uFF0C\u94FE\u8868\u540C\u6837\u548C\u6570\u7EC4\u4E00\u6837\uFF0C\u90FD\u5B9E\u73B0\u4E86 <strong>\u6309\u7167\u4E00\u5B9A\u7684\u987A\u5E8F</strong> \u5B58\u50A8\u5143\u7D20\uFF0C\u4E0D\u540C\u7684\u5730\u65B9\u5728\u4E8E\u94FE\u8868\u4E0D\u80FD\u50CF\u6570\u7EC4\u4E00\u6837\u901A\u8FC7\u4E0B\u6807\u8BBF\u95EE\uFF0C\u800C\u662F\u6BCF\u4E00\u4E2A\u5143\u7D20\u6307\u5411\u4E0B\u4E00\u4E2A\u5143\u7D20\u3002\u6211\u4EEC\u4E0D\u518D\u8FC7\u591A\u4ECB\u7ECD\u94FE\u8868\u65B9\u9762\u7684\u57FA\u7840\u77E5\u8BC6\uFF0C\u5BF9\u4E8E\u94FE\u8868\u4ECD\u4E0D\u7406\u89E3\u7684\u8BFB\u8005\u53EF\u4EE5\u5148\u81EA\u884C\u5B66\u4E60\u3002</p><p>\u76F4\u89C2\u4E0A\u6211\u4EEC\u5C31\u53EF\u4EE5\u5F97\u51FA\u7ED3\u8BBA\uFF1A\u94FE\u8868\u4E0D\u9700\u8981\u4E00\u6BB5\u8FDE\u7EED\u7684\u5B58\u50A8\u7A7A\u95F4\uFF0C\u201C\u6307\u5411\u4E0B\u4E00\u4E2A\u5143\u7D20\u201D\u7684\u65B9\u5F0F\u80FD\u591F\u66F4\u5927\u9650\u5EA6\u5730\u5229\u7528\u5185\u5B58\u3002</p><p>\u6839\u636E\u4E0A\u9762\u7ED3\u8BBA\u53EF\u4EE5\u7EE7\u7EED\u603B\u7ED3\uFF0C\u94FE\u8868\u7684\u4F18\u70B9\u5728\u4E8E\uFF1A</p><ul><li>\u94FE\u8868\u7684\u63D2\u5165\u548C\u5220\u9664\u64CD\u4F5C\u7684\u65F6\u95F4\u590D\u6742\u5EA6\u662F\u5E38\u6570\u7EA7\u7684\uFF0C\u6211\u4EEC\u53EA\u9700\u8981\u6539\u53D8\u76F8\u5173\u8282\u70B9\u7684\u6307\u9488\u6307\u5411\u5373\u53EF\uFF1B</li><li>\u94FE\u8868\u53EF\u4EE5\u50CF\u6570\u7EC4\u4E00\u6837\u987A\u5E8F\u8BBF\u95EE\uFF0C\u67E5\u627E\u5143\u7D20\u7684\u65F6\u95F4\u590D\u6742\u5EA6\u662F\u7EBF\u6027\u7684\u3002</li></ul><p>\u6211\u4EEC\u6765\u770B\u770B\u94FE\u8868\u7684\u5E94\u7528\u573A\u666F\uFF1A</p><ul><li>React \u7684\u6838\u5FC3\u7B97\u6CD5 Fiber \u7684\u5B9E\u73B0\u5C31\u662F\u94FE\u8868</li></ul><p>\u5173\u4E8E\u6B64\u6211\u4EEC\u53EF\u4EE5\u7A0D\u4F5C\u5C55\u5F00\u3002React \u6700\u65E9\u5F00\u59CB\u4F7F\u7528\u5927\u540D\u9F0E\u9F0E\u7684 Stack reconciler \u8C03\u5EA6\u7B97\u6CD5\uFF0C\u5173\u4E8E\u6B64\u5728\u4E4B\u524D\u7684\u8BFE\u7A0B\u4E2D\u5DF2\u7ECF\u6709\u6240\u6D89\u53CA\u3002Stack reconciler \u8C03\u5EA6\u7B97\u6CD5\u6700\u5927\u7684\u95EE\u9898\u5728\u4E8E\uFF1A <strong>\u5B83\u662F\u50CF\u51FD\u6570\u8C03\u7528\u6808\u4E00\u6837\uFF0C\u9012\u5F52\u5730\u3001\u81EA\u9876\u5411\u4E0B\u8FDB\u884C diff \u548C render \u76F8\u5173\u64CD\u4F5C\u7684</strong> \uFF0C\u5728 Stack reconciler \u6267\u884C\u7684\u8FC7\u7A0B\u5F53\u4E2D\uFF0C\u8BE5\u8C03\u5EA6\u7B97\u6CD5\u59CB\u7EC8\u4F1A\u5360\u636E\u6D4F\u89C8\u5668\u4E3B\u7EBF\u7A0B\u3002\u4E5F\u5C31\u662F\u8BF4\u5728\u6B64\u671F\u95F4\uFF0C\u7528\u6237\u7684\u4EA4\u4E92\u6240\u89E6\u53D1\u7684\u5E03\u5C40\u884C\u4E3A\u3001\u52A8\u753B\u6267\u884C\u4EFB\u52A1\u90FD\u4E0D\u4F1A\u88AB\u7ACB\u5373\u54CD\u5E94\uFF0C\u4ECE\u800C\u5F71\u54CD\u7528\u6237\u4F53\u9A8C\u3002</p><p>\u56E0\u6B64 React Fiber \u5C06\u6E32\u67D3\u548C\u66F4\u65B0\u8FC7\u7A0B\u8FDB\u884C\u4E86\u62C6\u89E3\uFF0C\u7B80\u5355\u6765\u8BF4\uFF0C\u5C31\u662F\u6BCF\u6B21\u68C0\u67E5\u865A\u62DF DOM \u7684\u4E00\u5C0F\u90E8\u5206\uFF0C\u5728\u68C0\u67E5\u95F4\u9699\u4F1A\u68C0\u67E5\u201C\u662F\u5426\u8FD8\u6709\u65F6\u95F4\u7EE7\u7EED\u6267\u884C\u4E0B\u4E00\u4E2A\u865A\u62DF DOM \u6811\u4E0A\u67D0\u4E2A\u5206\u652F\u4EFB\u52A1\u201D\uFF0C\u540C\u65F6\u89C2\u5BDF\u662F\u5426\u6709\u66F4\u4F18\u5148\u7684\u4EFB\u52A1\u9700\u8981\u54CD\u5E94\uFF0C\u5982\u679C\u201C\u6CA1\u6709\u65F6\u95F4\u6267\u884C\u4E0B\u4E00\u4E2A\u865A\u62DF DOM \u6811\u4E0A\u67D0\u4E2A\u5206\u652F\u4EFB\u52A1\u201D\uFF0C\u4E14\u6709\u66F4\u9AD8\u4F18\u5148\u7EA7\uFF0CReact \u5C31\u4F1A\u8BA9\u51FA\u4E3B\u7EBF\u7A0B\uFF0C\u76F4\u5230\u4E3B\u7EBF\u7A0B\u201C\u4E0D\u5FD9\u201D\u7684\u65F6\u5019\u7EE7\u7EED\u6267\u884C\u4EFB\u52A1\u3002</p><p>React Fiber \u56E0\u6B64\u4E5F\u5F88\u7B80\u5355\uFF0C\u5B83\u662F\u5C06 Stack reconciler \u8FC7\u7A0B\u5206\u6210\u5757\uFF0C\u4E00\u6B21\u6267\u884C\u4E00\u5757\uFF0C\u6267\u884C\u5B8C\u4E00\u5757\u9700\u8981\u5C06\u7ED3\u679C\u4FDD\u5B58\u8D77\u6765\uFF0C\u6839\u636E\u662F\u5426\u8FD8\u6709\u7A7A\u95F2\u7684\u54CD\u5E94\u65F6\u95F4\uFF08requestIdleCallback\uFF09\u6765\u51B3\u5B9A\u4E0B\u4E00\u6B65\u7B56\u7565\u3002\u5F53\u6240\u6709\u7684\u5757\u90FD\u5DF2\u7ECF\u6267\u884C\u5B8C\uFF0C\u5C31\u8FDB\u5165\u63D0\u4EA4\u9636\u6BB5\uFF0C\u8FD9\u4E2A\u9636\u6BB5\u9700\u8981\u66F4\u65B0 DOM\uFF0C\u5B83\u662F\u4E00\u53E3\u6C14\u5B8C\u6210\u7684\u3002</p><p>\u4EE5\u4E0A\u662F\u6BD4\u8F83\u4E3B\u89C2\u5730\u4ECB\u7ECD\uFF0C\u6211\u4EEC\u6765\u770B\u66F4\u5177\u4F53\u7684\u5B9E\u73B0\u3002</p><p>\u4E3A\u4E86\u8FBE\u5230\u201C\u968F\u610F\u4E2D\u65AD\u8C03\u7528\u6808\u5E76\u624B\u52A8\u64CD\u4F5C\u8C03\u7528\u6808\u201D\uFF0CReact Fiber \u5C31\u662F\u4E13\u95E8\u7528\u4E8E React \u7EC4\u4EF6\u5806\u6808\u8C03\u7528\u7684\u91CD\u65B0\u5B9E\u73B0\uFF0C\u4E5F\u5C31\u662F\u8BF4\u4E00\u4E2A Fiber \u5C31\u662F\u4E00\u4E2A\u865A\u62DF\u5806\u6808\u5E27\uFF0C\u4E00\u4E2A Fiber \u7684\u7ED3\u6784\u7C7B\u4F3C\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">function FiberNode(</span></span>
<span class="line"><span style="color:#A6ACCD;">  tag: WorkTag,</span></span>
<span class="line"><span style="color:#A6ACCD;">  pendingProps: mixed,</span></span>
<span class="line"><span style="color:#A6ACCD;">  key: null | string,</span></span>
<span class="line"><span style="color:#A6ACCD;">  mode: TypeOfMode,</span></span>
<span class="line"><span style="color:#A6ACCD;">) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  // Instance</span></span>
<span class="line"><span style="color:#A6ACCD;">  // ...</span></span>
<span class="line"><span style="color:#A6ACCD;">  this.tag = tag;                       </span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  // Fiber</span></span>
<span class="line"><span style="color:#A6ACCD;">  this.return = null;</span></span>
<span class="line"><span style="color:#A6ACCD;">  this.child = null;</span></span>
<span class="line"><span style="color:#A6ACCD;">  this.sibling = null;</span></span>
<span class="line"><span style="color:#A6ACCD;">  this.index = 0;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  this.ref = null;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  this.pendingProps = pendingProps;</span></span>
<span class="line"><span style="color:#A6ACCD;">  this.memoizedProps = null;</span></span>
<span class="line"><span style="color:#A6ACCD;">  this.updateQueue = null;</span></span>
<span class="line"><span style="color:#A6ACCD;">  this.memoizedState = null;</span></span>
<span class="line"><span style="color:#A6ACCD;">  this.dependencies = null;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  // Effects</span></span>
<span class="line"><span style="color:#A6ACCD;">  // ...</span></span>
<span class="line"><span style="color:#A6ACCD;">  this.alternate = null; </span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>\u8FD9\u4E48\u770B Fiber \u5C31\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u901A\u8FC7 parent\u3001children\u3001sibling \u7EF4\u62A4\u4E00\u4E2A\u6811\u5F62\u5173\u7CFB\uFF0C\u540C\u65F6 parent\u3001children\u3001sibling \u4E5F\u90FD\u662F\u4E00\u4E2A Fiber \u7ED3\u6784\uFF0CFiberNode.alternate \u8FD9\u4E2A\u5C5E\u6027\u6765\u5B58\u50A8\u4E0A\u4E00\u6B21\u6E32\u67D3\u8FC7\u7684\u7ED3\u679C\uFF0C\u4E8B\u5B9E\u4E0A\u6574\u4E2A Fiber \u6A21\u5F0F\u5C31\u662F\u4E00\u4E2A\u94FE\u8868\u3002React \u4E5F\u501F\u6B64\uFF0C\u4ECE\u4F9D\u8D56\u4E8E\u5185\u7F6E\u5806\u6808\u7684\u540C\u6B65\u9012\u5F52\u6A21\u578B\uFF0C\u53D8\u4E3A\u5177\u6709\u94FE\u8868\u548C\u6307\u9488\u7684\u5F02\u6B65\u6A21\u578B\u4E86\u3002</p><p>\u5177\u4F53\u7684\u6E32\u67D3\u8FC7\u7A0B\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">function renderNode(node) {</span></span>
<span class="line"><span style="color:#A6ACCD;">   // \u5224\u65AD\u662F\u5426\u9700\u8981\u6E32\u67D3\u8BE5\u8282\u70B9\uFF0C\u5982\u679C props \u53D1\u751F\u53D8\u5316\uFF0C\u5219\u8C03\u7528 render</span></span>
<span class="line"><span style="color:#A6ACCD;">   if (node.memoizedProps !== node.pendingProps) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      render(node)</span></span>
<span class="line"><span style="color:#A6ACCD;">   }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">   // \u662F\u5426\u6709\u5B50\u8282\u70B9\uFF0C\u8FDB\u884C\u5B50\u8282\u70B9\u6E32\u67D3</span></span>
<span class="line"><span style="color:#A6ACCD;">   if (node.child !== null) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      return node.child</span></span>
<span class="line"><span style="color:#A6ACCD;">   // \u662F\u5426\u6709\u5144\u5F1F\u8282\u70B9\uFF0C\u8FDB\u884C\u5144\u5F1F\u70B9\u6E32\u67D3</span></span>
<span class="line"><span style="color:#A6ACCD;">   } else if (node.sibling !== null){</span></span>
<span class="line"><span style="color:#A6ACCD;">      return node.sibling</span></span>
<span class="line"><span style="color:#A6ACCD;">   // \u6CA1\u6709\u5B50\u8282\u70B9\u548C\u5144\u5F1F\u8282\u70B9</span></span>
<span class="line"><span style="color:#A6ACCD;">   } else if (node.return !== null){</span></span>
<span class="line"><span style="color:#A6ACCD;">      return node.return</span></span>
<span class="line"><span style="color:#A6ACCD;">   } else {</span></span>
<span class="line"><span style="color:#A6ACCD;">      return null</span></span>
<span class="line"><span style="color:#A6ACCD;">   }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">function workloop(root) {</span></span>
<span class="line"><span style="color:#A6ACCD;">   nextNode = root</span></span>
<span class="line"><span style="color:#A6ACCD;">   while (nextNode !== null &amp;&amp; (no other high priority task)) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      nextNode = renderNode(nextNode)</span></span>
<span class="line"><span style="color:#A6ACCD;">   }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>\u6CE8\u610F\u5728 workloop \u5F53\u4E2D\uFF0Cwhile \u6761\u4EF6 nextNode !== null &amp;&amp; (no other high priority task)\uFF0C\u8FD9\u662F\u63CF\u8FF0 Fiber \u5DE5\u4F5C\u539F\u7406\u7684\u5173\u952E\u4F2A\u4EE3\u7801\u3002</p><p>\u5F53\u7136\u8FD9\u91CC\u662F\u4E3A\u4E86\u8BF4\u660E\u94FE\u8868\u7684\u6570\u636E\u7ED3\u6784\uFF0C\u4F2A\u4EE3\u7801\u8F83\u4E3A\u7B80\u7565\uFF0C\u4E5F\u6CA1\u6709\u6DF1\u5165\uFF1A</p><ul><li>requestAnimationFrame(callback)</li><li>requestIdleCallback(callback)</li></ul><p>\u7684\u5B9E\u73B0\u548C\u5E94\u7528\u3002React Fiber \u7684\u4ECB\u7ECD\u6211\u4EEC\u5148\u5230\u6B64\u4E3A\u6B62\uFF0C\u91CD\u70B9\u662F\u4F53\u4F1A\u94FE\u8868\u6570\u636E\u7ED3\u6784\u7684\u601D\u60F3\u3002</p><h2 id="\u94FE\u8868\u5B9E\u73B0" tabindex="-1">\u94FE\u8868\u5B9E\u73B0 <a class="header-anchor" href="#\u94FE\u8868\u5B9E\u73B0" aria-hidden="true">#</a></h2><p>\u5B9E\u73B0\u94FE\u8868\uFF0C\u6211\u4EEC\u9700\u8981\u5148\u5BF9\u94FE\u8868\u8FDB\u884C\u5206\u7C7B\uFF0C\u5E38\u89C1\u7684\u6709\uFF1A</p><ul><li>\u5355\u94FE\u8868\uFF1A\u5355\u94FE\u8868\u662F\u7EF4\u62A4\u4E00\u7CFB\u5217\u8282\u70B9\u7684\u6570\u636E\u7ED3\u6784\uFF0C\u5176\u7279\u70B9\u662F\uFF1A\u6BCF\u4E2A\u8282\u70B9\u5305\u542B\u4E86\u6570\u636E\uFF0C\u540C\u65F6\u5305\u542B\u6307\u5411\u94FE\u8868\u4E2D\u4E0B\u4E00\u4E2A\u8282\u70B9\u7684\u6307\u9488\u3002</li><li>\u53CC\u5411\u94FE\u8868\uFF1A\u4E0D\u540C\u4E8E\u5355\u94FE\u8868\uFF0C\u53CC\u5411\u94FE\u8868\u7279\u70B9\uFF1A\u6BCF\u4E2A\u8282\u70B9\u5206\u9664\u4E86\u5305\u542B\u5176\u6570\u636E\u4EE5\u5916\uFF0C\u8FD8\u5305\u542B\u4E86\u5206\u522B\u6307\u5411\u5176\u524D\u9A71\u548C\u540E\u7EE7\u8282\u70B9\u7684\u6307\u9488\u3002</li></ul><p>\u7531\u4E8E\u7BC7\u5E45\u6709\u539F\u56E0\uFF0C\u6211\u4EEC\u6311\u9009\u66F4\u52A0\u590D\u6742\u7684\u53CC\u5411\u94FE\u8868\u8FDB\u884C\u5B9E\u73B0\uFF0C\u5B9E\u73B0\u601D\u8DEF\u5982\u4E0B\u3002</p><p>\u9996\u5148\uFF0C\u6839\u636E\u53CC\u5411\u94FE\u8868\u7684\u7279\u70B9\uFF0C\u6211\u4EEC\u5B9E\u73B0\u4E00\u4E2A\u8282\u70B9\u6784\u9020\u51FD\u6570\uFF08\u8282\u70B9\u7C7B\uFF09\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">class Node {</span></span>
<span class="line"><span style="color:#A6ACCD;">    constructor(data) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        // data \u4E3A\u5F53\u524D\u8282\u70B9\u6240\u50A8\u5B58\u7684\u6570\u636E</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.data = data</span></span>
<span class="line"><span style="color:#A6ACCD;">        // next \u6307\u5411\u4E0B\u4E00\u4E2A\u8282\u70B9</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.next = null</span></span>
<span class="line"><span style="color:#A6ACCD;">        // prev \u6307\u5411\u524D\u4E00\u4E2A\u8282\u70B9</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.prev = null</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>\u6709\u4E86\u8282\u70B9\u7C7B\uFF0C\u6211\u4EEC\u6765\u521D\u6B65\u5B9E\u73B0\u53CC\u5411\u94FE\u8868\u7C7B\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">class DoublyLinkedList {</span></span>
<span class="line"><span style="color:#A6ACCD;">    constructor() {</span></span>
<span class="line"><span style="color:#A6ACCD;">        // \u53CC\u5411\u94FE\u8868\u5F00\u5934</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.head = null</span></span>
<span class="line"><span style="color:#A6ACCD;">        // \u53CC\u5411\u94FE\u8868\u7ED3\u5C3E</span></span>
<span class="line"><span style="color:#A6ACCD;">      this.tail = null</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // ...</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>\u63A5\u4E0B\u6765\uFF0C\u9700\u8981\u5B9E\u73B0\u53CC\u5411\u94FE\u8868\u539F\u578B\u4E0A\u7684\u4E00\u4E9B\u65B9\u6CD5\uFF0C\u8FD9\u4E9B\u65B9\u6CD5\u5305\u62EC</p><ul><li>add\uFF1A\u5728\u94FE\u8868\u5C3E\u90E8\u6DFB\u52A0\u4E00\u4E2A\u65B0\u7684\u8282\u70B9</li><li>addAt\uFF1A\u5728\u94FE\u8868\u6307\u5B9A\u4F4D\u7F6E\u6DFB\u52A0\u4E00\u4E2A\u65B0\u7684\u8282\u70B9</li><li>remove\uFF1A\u5220\u9664\u94FE\u8868\u6307\u5B9A\u6570\u636E\u9879\u8282\u70B9</li><li>removeAt\uFF1A\u5220\u9664\u94FE\u8868\u6307\u5B9A\u4F4D\u7F6E\u8282\u70B9</li><li>reverse\uFF1A\u7FFB\u8F6C\u94FE\u8868</li><li>swap\uFF1A\u4EA4\u6362\u4E24\u4E2A\u8282\u70B9\u6570\u636E</li><li>isEmpty\uFF1A\u67E5\u8BE2\u94FE\u8868\u662F\u5426\u4E3A\u7A7A</li><li>length\uFF1A\u67E5\u8BE2\u94FE\u8868\u957F\u5EA6</li><li>traverse\uFF1A\u904D\u5386\u94FE\u8868</li><li>find\uFF1A\u67E5\u627E\u67D0\u4E2A\u8282\u70B9\u7684\u7D22\u5F15</li></ul><p>add \u65B9\u6CD5\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">add(item) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  // \u5B9E\u4F8B\u5316\u4E00\u4E2A\u8282\u70B9</span></span>
<span class="line"><span style="color:#A6ACCD;">  let node = new Node(item)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  // \u5982\u679C\u5F53\u524D\u94FE\u8868\u8FD8\u6CA1\u6709\u5934</span></span>
<span class="line"><span style="color:#A6ACCD;">  if(!this.head) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    this.head = node</span></span>
<span class="line"><span style="color:#A6ACCD;">    this.tail = node</span></span>
<span class="line"><span style="color:#A6ACCD;">  } </span></span>
<span class="line"><span style="color:#A6ACCD;">  // \u5982\u679C\u5F53\u524D\u94FE\u8868\u5DF2\u7ECF\u6709\u4E86\u5934\uFF0C\u53EA\u9700\u8981\u5728\u5C3E\u90E8\u52A0\u4E0A\u8BE5\u8282\u70B9</span></span>
<span class="line"><span style="color:#A6ACCD;">  else {</span></span>
<span class="line"><span style="color:#A6ACCD;">    node.prev = this.tail</span></span>
<span class="line"><span style="color:#A6ACCD;">    this.tail.next = node</span></span>
<span class="line"><span style="color:#A6ACCD;">    this.tail = node</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>addAt \u65B9\u6CD5\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">addAt(index, item) {</span></span>
<span class="line"><span style="color:#A6ACCD;">   let current = this.head</span></span>
<span class="line"><span style="color:#A6ACCD;">   // \u7EF4\u62A4\u67E5\u627E\u65F6\u5F53\u524D\u8282\u70B9\u7684\u7D22\u5F15</span></span>
<span class="line"><span style="color:#A6ACCD;">   let counter = 1</span></span>
<span class="line"><span style="color:#A6ACCD;">   let node = new Node(item)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">   // \u5982\u679C\u5728\u5934\u90E8\u63D2\u5165</span></span>
<span class="line"><span style="color:#A6ACCD;">   if (index === 0) {</span></span>
<span class="line"><span style="color:#A6ACCD;">     this.head.prev = node</span></span>
<span class="line"><span style="color:#A6ACCD;">     node.next = this.head</span></span>
<span class="line"><span style="color:#A6ACCD;">     this.head = node</span></span>
<span class="line"><span style="color:#A6ACCD;">   } </span></span>
<span class="line"><span style="color:#A6ACCD;">   // \u975E\u5934\u90E8\u63D2\u5165\uFF0C\u9700\u8981\u4ECE\u5934\u5F00\u59CB\uFF0C\u627E\u5BFB\u63D2\u5165\u4F4D\u7F6E</span></span>
<span class="line"><span style="color:#A6ACCD;">   else {</span></span>
<span class="line"><span style="color:#A6ACCD;">     while(current) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      current = current.next</span></span>
<span class="line"><span style="color:#A6ACCD;">      if( counter === index) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        node.prev = current.prev</span></span>
<span class="line"><span style="color:#A6ACCD;">        current.prev.next = node</span></span>
<span class="line"><span style="color:#A6ACCD;">        node.next = current</span></span>
<span class="line"><span style="color:#A6ACCD;">        current.prev = node</span></span>
<span class="line"><span style="color:#A6ACCD;">      }</span></span>
<span class="line"><span style="color:#A6ACCD;">      counter++</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>remove \u65B9\u6CD5\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">remove(item) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  let current = this.head</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  while (current) {</span></span>
<span class="line"><span style="color:#A6ACCD;">       // \u627E\u5230\u4E86\u76EE\u6807\u8282\u70B9</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (current.data === item ) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      // \u76EE\u6807\u94FE\u8868\u53EA\u6709\u5F53\u524D\u76EE\u6807\u9879\uFF0C\u5373\u76EE\u6807\u8282\u70B9\u5373\u662F\u94FE\u8868\u5934\u53C8\u662F\u94FE\u8868\u5C3E</span></span>
<span class="line"><span style="color:#A6ACCD;">      if (current == this.head &amp;&amp; current == this.tail) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.head = null</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.tail = null</span></span>
<span class="line"><span style="color:#A6ACCD;">      } </span></span>
<span class="line"><span style="color:#A6ACCD;">      // \u76EE\u6807\u8282\u70B9\u4E3A\u94FE\u8868\u5934</span></span>
<span class="line"><span style="color:#A6ACCD;">      else if (current == this.head ) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.head = this.head.next</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.head.prev = null</span></span>
<span class="line"><span style="color:#A6ACCD;">      } </span></span>
<span class="line"><span style="color:#A6ACCD;">      // \u76EE\u6807\u8282\u70B9\u4E3A\u94FE\u8868\u5C3E\u90E8</span></span>
<span class="line"><span style="color:#A6ACCD;">      else if (current == this.tail ) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.tail = this.tail.prev;</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.tail.next = null;</span></span>
<span class="line"><span style="color:#A6ACCD;">      } </span></span>
<span class="line"><span style="color:#A6ACCD;">      // \u76EE\u6807\u8282\u70B9\u5728\u94FE\u8868\u6536\u5C3E\u4E4B\u95F4\uFF0C\u4E2D\u90E8</span></span>
<span class="line"><span style="color:#A6ACCD;">      else {</span></span>
<span class="line"><span style="color:#A6ACCD;">        current.prev.next = current.next;</span></span>
<span class="line"><span style="color:#A6ACCD;">        current.next.prev = current.prev;</span></span>
<span class="line"><span style="color:#A6ACCD;">      }</span></span>
<span class="line"><span style="color:#A6ACCD;">   }</span></span>
<span class="line"><span style="color:#A6ACCD;">   current = current.next</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>removeAt \u65B9\u6CD5\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">removeAt(index) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  // \u90FD\u662F\u4ECE\u201C\u5934\u201D\u5F00\u59CB\u904D\u5386</span></span>
<span class="line"><span style="color:#A6ACCD;">  let current = this.head</span></span>
<span class="line"><span style="color:#A6ACCD;">  let counter = 1</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  // \u5220\u9664\u94FE\u8868\u5934\u90E8</span></span>
<span class="line"><span style="color:#A6ACCD;">  if (index === 0 ) {</span></span>
<span class="line"><span style="color:#A6ACCD;">   this.head = this.head.next</span></span>
<span class="line"><span style="color:#A6ACCD;">   this.head.prev = null</span></span>
<span class="line"><span style="color:#A6ACCD;">  } </span></span>
<span class="line"><span style="color:#A6ACCD;">  else {</span></span>
<span class="line"><span style="color:#A6ACCD;">   while(current) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    current = current.next</span></span>
<span class="line"><span style="color:#A6ACCD;">    // \u5982\u679C\u76EE\u6807\u8282\u70B9\u5728\u94FE\u8868\u5C3E</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (current == this.tail) {</span></span>
<span class="line"><span style="color:#A6ACCD;">     this.tail = this.tail.prev</span></span>
<span class="line"><span style="color:#A6ACCD;">     this.tail.next = null</span></span>
<span class="line"><span style="color:#A6ACCD;">    } </span></span>
<span class="line"><span style="color:#A6ACCD;">    else if (counter === index) {</span></span>
<span class="line"><span style="color:#A6ACCD;">     current.prev.next = current.next</span></span>
<span class="line"><span style="color:#A6ACCD;">     current.next.prev = current.prev</span></span>
<span class="line"><span style="color:#A6ACCD;">     break</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    counter++</span></span>
<span class="line"><span style="color:#A6ACCD;">   }</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>reverse \u65B9\u6CD5\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">reverse() {</span></span>
<span class="line"><span style="color:#A6ACCD;">  let current = this.head</span></span>
<span class="line"><span style="color:#A6ACCD;">  let prev = null</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  while (current) {</span></span>
<span class="line"><span style="color:#A6ACCD;">   let next = current.next</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">   // \u524D\u540E\u5012\u7F6E</span></span>
<span class="line"><span style="color:#A6ACCD;">   current.next = prev</span></span>
<span class="line"><span style="color:#A6ACCD;">   current.prev = next</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">   prev = current</span></span>
<span class="line"><span style="color:#A6ACCD;">   current = next</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  this.tail = this.head</span></span>
<span class="line"><span style="color:#A6ACCD;">  this.head = prev</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>swap \u65B9\u6CD5\uFF0C\u4EA4\u6362\u4E24\u4E2A\u8282\u70B9\u6570\u636E\u503C\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">swap(index1, index2) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  // \u4F7F index1 \u59CB\u7EC8\u5C0F\u4E8E index2\uFF0C\u65B9\u4FBF\u540E\u9762\u67E5\u627E\u4EA4\u6362</span></span>
<span class="line"><span style="color:#A6ACCD;">  if (index1 &gt; index2) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    return this.swap(index2, index1)</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  let current = this.head</span></span>
<span class="line"><span style="color:#A6ACCD;">  let counter = 0</span></span>
<span class="line"><span style="color:#A6ACCD;">  let firstNode</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  while(current !== null) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    // \u627E\u5230\u7B2C\u4E00\u4E2A\u8282\u70B9\uFF0C\u5148\u5B58\u8D77\u6765</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (counter === index1 ){</span></span>
<span class="line"><span style="color:#A6ACCD;">        firstNode = current</span></span>
<span class="line"><span style="color:#A6ACCD;">    } </span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // \u627E\u5230\u7B2C\u4E8C\u4E2A\u8282\u70B9\uFF0C\u8FDB\u884C\u6570\u636E\u4EA4\u6362</span></span>
<span class="line"><span style="color:#A6ACCD;">    else if (counter === index2) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      // ES \u63D0\u4F9B\u4E86\u66F4\u7B80\u6D01\u4EA4\u6362\u6570\u636E\u7684\u65B9\u6CD5\uFF0C\u8FD9\u91CC\u6211\u4EEC\u7528\u4F20\u7EDF\u65B9\u5F0F\u5B9E\u73B0\uFF0C\u66F4\u4E3A\u76F4\u89C2</span></span>
<span class="line"><span style="color:#A6ACCD;">      let temp = current.data</span></span>
<span class="line"><span style="color:#A6ACCD;">      current.data = firstNode.data</span></span>
<span class="line"><span style="color:#A6ACCD;">      firstNode.data = temp</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    current = current.next</span></span>
<span class="line"><span style="color:#A6ACCD;">    counter++</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">  return true</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>isEmpty \u65B9\u6CD5\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">isEmpty() {</span></span>
<span class="line"><span style="color:#A6ACCD;">  return this.length() &lt; 1</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u8FD9\u91CC\u901A\u8FC7 DoublyLinkedList \u7C7B length \u7684\u65B9\u6CD5\u5B9E\u73B0\u3002\u9A6C\u4E0A\u770B\u4E00\u4E0B length \u65B9\u6CD5\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">length() {</span></span>
<span class="line"><span style="color:#A6ACCD;">  let current = this.head</span></span>
<span class="line"><span style="color:#A6ACCD;">  let counter = 0</span></span>
<span class="line"><span style="color:#A6ACCD;">  while(current !== null) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    counter++</span></span>
<span class="line"><span style="color:#A6ACCD;">    current = current.next</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">  return counter</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>length \u65B9\u6CD5\u901A\u8FC7\u904D\u5386\u94FE\u8868\uFF0C\u8FD4\u56DE\u94FE\u8868\u7684\u957F\u5EA6\u3002</p><p>traverse \u65B9\u6CD5\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">traverse(fn) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  let current = this.head</span></span>
<span class="line"><span style="color:#A6ACCD;">  while(current !== null) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    fn(current)</span></span>
<span class="line"><span style="color:#A6ACCD;">    current = current.next</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">  return true</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>\u6709\u4E86\u4E0A\u9762 length \u65B9\u6CD5\u7684\u904D\u5386\u5B9E\u73B0\uFF0Ctraverse \u4E5F\u5C31\u4E0D\u96BE\u7406\u89E3\u4E86\uFF0C\u5B83\u63A5\u53D7\u4E00\u4E2A\u904D\u5386\u6267\u884C\u51FD\u6570\uFF0C\u5728 while \u5FAA\u73AF\u4E2D\u8FDB\u884C\u8C03\u7528\u3002</p><p>\u6700\u540E\u4E00\u4E2A search \u65B9\u6CD5\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">search(item) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  let current = this.head</span></span>
<span class="line"><span style="color:#A6ACCD;">  let counter = 0</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  while( current ) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    if( current.data == item ) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      return counter</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    current = current.next</span></span>
<span class="line"><span style="color:#A6ACCD;">    counter++</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">  return false</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>\u5230\u6B64\uFF0C\u6211\u4EEC\u5C31\u5B9E\u73B0\u4E86\u6240\u6709 DoublyLinkedList \u7C7B\u53CC\u5411\u94FE\u8868\u7684\u65B9\u6CD5\u3002\u4ED4\u7EC6\u5206\u6790\u6574\u4E2A\u5B9E\u73B0\u8FC7\u7A0B\uFF0C\u53EF\u4EE5\u53D1\u73B0\uFF1A\u53CC\u5411\u94FE\u8868\u7684\u5B9E\u73B0\u5E76\u4E0D\u590D\u6742\uFF0C\u5728\u624B\u5199\u8FC7\u7A0B\u5F53\u4E2D\uFF0C\u9700\u8981\u5F00\u53D1\u8005\u505A\u5230\u5FC3\u4E2D\u6709\u8868\uFF0C\u8003\u8651\u5230\u5F53\u524D\u8282\u70B9\u7684 next \u548C prev \u53D6\u503C\uFF0C\u903B\u8F91\u4E0A\u8FD8\u662F\u5F88\u7B80\u5355\u7684\u3002</p><p>\u638C\u63E1\u4E86\u8FD9\u4E9B\u5185\u5BB9\uFF0C\u5728\u56DE\u60F3\u4E00\u4E0B\u94FE\u8868\u7684\u5E94\u7528\uFF0C\u56DE\u60F3 React Fiber \u7684\u8BBE\u8BA1\u548C\u5B9E\u73B0\uFF0C\u4E5F\u8BB8\u4E00\u5207\u90FD\u53D8\u7684\u4E0D\u518D\u795E\u79D8\u3002</p><h2 id="\u6811" tabindex="-1">\u6811 <a class="header-anchor" href="#\u6811" aria-hidden="true">#</a></h2><p>\u524D\u7AEF\u5F00\u53D1\u8005\u5E94\u8BE5\u5BF9\u6811\u8FD9\u4E2A\u6570\u636E\u7ED3\u6784\u4E1D\u6BEB\u4E0D\u964C\u751F\uFF0C\u4E0D\u540C\u4E8E\u4E4B\u524D\u4ECB\u7ECD\u7684\u6240\u6709\u6570\u636E\u7ED3\u6784\uFF0C\u6811\u662F\u975E\u7EBF\u6027\u7684\u3002\u56E0\u4E3A\u6811\u51B3\u5B9A\u4E86\u5176\u5B58\u50A8\u7684\u6570\u636E\u76F4\u63A5\u6709\u660E\u786E\u7684\u5C42\u7EA7\u5173\u7CFB\uFF0C\u56E0\u6B64\u5BF9\u4E8E\u7EF4\u62A4\u5177\u6709\u5C42\u7EA7\u7279\u6027\u7684\u6570\u636E\uFF0C\u6811\u662F\u4E00\u4E2A\u5929\u7136\u826F\u597D\u7684\u9009\u62E9\u3002</p><p>\u5728\u524D\u9762\u603B\u9886\u4E2D\uFF0C\u6211\u4EEC\u770B\u5230\u6811\u6709\u5F88\u591A\u79CD\u5206\u7C7B\uFF0C\u4F46\u662F\u4ED6\u4EEC\u90FD\u5177\u6709\u4EE5\u4E0B\u7279\u6027\uFF1A</p><ul><li>\u9664\u4E86\u6839\u8282\u70B9\u4EE5\u5916\uFF0C\u6240\u6709\u7684\u8282\u70B9\u90FD\u6709\u4E00\u4E2A\u7236\u8282\u70B9</li><li>\u6BCF\u4E00\u4E2A\u8282\u70B9\u90FD <strong>\u53EF\u4EE5\u6709</strong> \u82E5\u5E72\u5B50\u8282\u70B9\uFF0C\u5982\u679C\u6CA1\u6709\u5B50\u8282\u70B9\uFF0C\u90A3\u4E48\u79F0\u6B64\u8282\u70B9\u4E3A\u53F6\u5B50\u8282\u70B9</li><li>\u4E00\u4E2A\u8282\u70B9\u6240\u62E5\u6709\u7684\u53F6\u5B50\u8282\u70B9\u7684\u4E2A\u6570\uFF0C\u79F0\u4E4B\u4E3A\u8BE5\u8282\u70B9\u7684\u5EA6\uFF0C\u56E0\u6B64\u53F6\u5B50\u8282\u70B9\u7684\u5EA6\u4E3A 0</li><li>\u6240\u6709\u8282\u70B9\u4E2D\uFF0C\u6700\u5927\u7684\u5EA6\u4E3A\u6574\u68F5\u6811\u7684\u5EA6</li><li>\u6811\u7684\u6700\u5927\u5C42\u6B21\u79F0\u4E3A\u6811\u7684\u6DF1\u5EA6</li></ul><p>\u4ECE\u5E94\u7528\u4E0A\u6765\u770B\uFF0C\u6211\u4EEC\u524D\u7AEF\u5F00\u53D1\u79BB\u4E0D\u5F00\u7684 DOM \u5C31\u662F\u4E00\u4E2A\u6811\u72B6\u7ED3\u6784\uFF1B\u540C\u7406\uFF0C\u4E0D\u7BA1\u662F React \u8FD8\u662F Vue \u7684\u865A\u62DF DOM \u4E5F\u90FD\u662F\u6811\u3002</p><p>\u6211\u4EEC\u4ECE\u6700\u57FA\u672C\u7684\u4E8C\u53C9\u6811\u5165\u624B\uFF0C\u6765\u6162\u6162\u6DF1\u5165\u3002</p><h3 id="\u4E8C\u53C9\u641C\u7D22\u6811\u7684\u5B9E\u73B0\u548C\u904D\u5386" tabindex="-1">\u4E8C\u53C9\u641C\u7D22\u6811\u7684\u5B9E\u73B0\u548C\u904D\u5386 <a class="header-anchor" href="#\u4E8C\u53C9\u641C\u7D22\u6811\u7684\u5B9E\u73B0\u548C\u904D\u5386" aria-hidden="true">#</a></h3><p>\u8BF4\u4E8C\u53C9\u6811\u6700\u4E3A\u57FA\u672C\uFF0C\u56E0\u4E3A\u4ED6\u7684\u7ED3\u6784\u6700\u7B80\u5355\uFF0C\u6BCF\u4E2A\u8282\u70B9\u81F3\u591A\u5305\u542B\u4E24\u4E2A\u5B50\u8282\u70B9\u3002\u4E8C\u53C9\u6811\u53C8\u975E\u5E38\u6709\u7528\uFF1A\u56E0\u4E3A\u6839\u636E\u4E8C\u53C9\u6811\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5EF6\u4F38\u51FA\u4E8C\u53C9\u641C\u7D22\u6811\uFF08BST\uFF09\u3001\u5E73\u8861\u4E8C\u53C9\u641C\u7D22\u6811\uFF08AVL\uFF09\u3001\u7EA2\u9ED1\u6811\uFF08R/B Tree\uFF09\u7B49\u3002</p><p>\u4E8C\u53C9\u641C\u7D22\u6811\u6709\u4EE5\u4E0B\u7279\u6027\uFF1A</p><ul><li>\u5DE6\u5B50\u6811\u4E0A\u6240\u6709\u7ED3\u70B9\u7684\u503C\u5747\u5C0F\u4E8E\u6216\u7B49\u4E8E\u5B83\u7684\u6839\u7ED3\u70B9\u7684\u503C</li><li>\u53F3\u5B50\u6811\u4E0A\u6240\u6709\u7ED3\u70B9\u7684\u503C\u5747\u5927\u4E8E\u6216\u7B49\u4E8E\u5B83\u7684\u6839\u7ED3\u70B9\u7684\u503C</li><li>\u5DE6\u3001\u53F3\u5B50\u6811\u4E5F\u5206\u522B\u4E3A\u4E8C\u53C9\u641C\u7D22\u6811</li></ul><p>\u6839\u636E\u5176\u7279\u6027\uFF0C\u6211\u4EEC\u5B9E\u73B0\u4E8C\u53C9\u641C\u7D22\u6811\u8FD8\u662F\u5E94\u8BE5\u5148\u6784\u9020\u4E00\u4E2A\u8282\u70B9\u7C7B\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">class Node { </span></span>
<span class="line"><span style="color:#A6ACCD;">  constructor(data) { </span></span>
<span class="line"><span style="color:#A6ACCD;">    this.left = null</span></span>
<span class="line"><span style="color:#A6ACCD;">    this.right = null</span></span>
<span class="line"><span style="color:#A6ACCD;">    this.value = data</span></span>
<span class="line"><span style="color:#A6ACCD;">  } </span></span>
<span class="line"><span style="color:#A6ACCD;">} </span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>\u63A5\u7740\u6309\u7167\u60EF\u4F8B\uFF0C\u6211\u4EEC\u5B9E\u73B0\u4E8C\u53C9\u641C\u7D22\u6811\u7684\u4EE5\u4E0B\u65B9\u6CD5\uFF1A</p><ul><li>insertNode\uFF1A\u6839\u636E\u4E00\u4E2A\u7236\u8282\u70B9\uFF0C\u63D2\u5165\u4E00\u4E2A\u5B50\u8282\u70B9</li><li>insert\uFF1A\u63D2\u5165\u4E00\u4E2A\u65B0\u8282\u70B9</li><li>removeNode\uFF1A\u6839\u636E\u4E00\u4E2A\u7236\u8282\u70B9\uFF0C\u79FB\u9664\u4E00\u4E2A\u5B50\u8282\u70B9</li><li>remove\uFF1A\u79FB\u9664\u4E00\u4E2A\u8282\u70B9</li><li>findMinNode\uFF1A\u83B7\u53D6\u5B50\u8282\u70B9\u7684\u6700\u5C0F\u503C</li><li>searchNode\uFF1A\u6839\u636E\u4E00\u4E2A\u7236\u8282\u70B9\uFF0C\u67E5\u627E\u5B50\u8282\u70B9</li><li>search\uFF1A\u67E5\u627E\u8282\u70B9</li><li>preOrder\uFF1A\u524D\u5E8F\u904D\u5386</li><li>InOrder\uFF1A\u4E2D\u5E8F\u904D\u5386</li><li>PostOrder\uFF1A\u540E\u7EED\u904D\u5386</li></ul><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">insertNode(root, newNode) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  if (newNode.value &lt; root.value) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    (!root.left) ? root.left = newNode : this.insertNode(root.left, newNode)</span></span>
<span class="line"><span style="color:#A6ACCD;">  } else {</span></span>
<span class="line"><span style="color:#A6ACCD;">    (!root.right) ? root.right = newNode : this.insertNode(root.right, newNode)</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">insert(value) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    let newNode = new Node(value)</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (!this.root) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      this.root = newNode</span></span>
<span class="line"><span style="color:#A6ACCD;">    } else {</span></span>
<span class="line"><span style="color:#A6ACCD;">      this.insertNode(this.root, newNode)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>\u7406\u89E3\u8FD9\u4E24\u4E2A\u65B9\u6CD5\u662F\u7406\u89E3\u4E8C\u53C9\u641C\u7D22\u6811\u7684\u5173\u952E\uFF0C\u4E0B\u9762\u7684\u5176\u4ED6\u65B9\u6CD5\u4E5F\u5C31\u201C\u4E0D\u5728\u8BDD\u4E0B\u201D\u3002\u6211\u4EEC\u770B\uFF0CinsertNode \u65B9\u6CD5\u5148\u5224\u65AD\u76EE\u6807\u7236\u8282\u70B9\u548C\u63D2\u5165\u8282\u70B9\u7684\u503C\uFF0C\u5982\u679C\u63D2\u5165\u8282\u70B9\u7684\u503C\u66F4\u5C0F\uFF0C\u5219\u8003\u8651\u653E\u5230\u7236\u8282\u70B9\u7684\u5DE6\u8FB9\uFF0C\u63A5\u7740\u9012\u5F52\u8C03\u7528 his.insertNode(root.left, newNode)\uFF1B\u5982\u679C\u63D2\u5165\u8282\u70B9\u7684\u503C\u66F4\u5927\uFF0C\u4EE5\u6B64\u7C7B\u63A8\u5373\u53EF\u3002</p><p>insert \u65B9\u6CD5\u53EA\u662F\u591A\u4E86\u4E00\u6B65\u6784\u9020 Node \u8282\u70B9\u5B9E\u4F8B\uFF0C\u63A5\u4E0B\u6765\u533A\u5206\u6709\u65E0\u7236\u8282\u70B9\u7684\u60C5\u51B5\uFF0C\u8C03\u7528 this.insertNode \u65B9\u6CD5\u5373\u53EF\u3002</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;"> removeNode(root, value) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (!root) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      return null</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    if (value &lt; root.value) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      root.left = this.removeNode(root.left, value)</span></span>
<span class="line"><span style="color:#A6ACCD;">      return root</span></span>
<span class="line"><span style="color:#A6ACCD;">    } else if (value &gt; root.value) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      root.right = tis.removeNode(root.right, value)</span></span>
<span class="line"><span style="color:#A6ACCD;">      return root</span></span>
<span class="line"><span style="color:#A6ACCD;">    } else {</span></span>
<span class="line"><span style="color:#A6ACCD;">      // \u627E\u5230\u4E86\u9700\u8981\u5220\u9664\u7684\u8282\u70B9 </span></span>
<span class="line"><span style="color:#A6ACCD;">      // \u5982\u679C\u5F53\u524D root \u8282\u70B9\u65E0\u5DE6\u53F3\u5B50\u8282\u70B9</span></span>
<span class="line"><span style="color:#A6ACCD;">      if (!root.left &amp;&amp; !root.right) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        root = null</span></span>
<span class="line"><span style="color:#A6ACCD;">        return root</span></span>
<span class="line"><span style="color:#A6ACCD;">      }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">      // \u53EA\u6709\u5DE6\u8282\u70B9</span></span>
<span class="line"><span style="color:#A6ACCD;">      if (root.left &amp;&amp; !root.right) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        root = root.left</span></span>
<span class="line"><span style="color:#A6ACCD;">        return root</span></span>
<span class="line"><span style="color:#A6ACCD;">      } </span></span>
<span class="line"><span style="color:#A6ACCD;">      // \u53EA\u6709\u53F3\u8282\u70B9</span></span>
<span class="line"><span style="color:#A6ACCD;">      else if (root.right) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        root = root.right</span></span>
<span class="line"><span style="color:#A6ACCD;">        return root</span></span>
<span class="line"><span style="color:#A6ACCD;">      }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">      // \u6709\u5DE6\u53F3\u4E24\u4E2A\u5B50\u8282\u70B9</span></span>
<span class="line"><span style="color:#A6ACCD;">      let minRight = this.findMinNode(root.right)</span></span>
<span class="line"><span style="color:#A6ACCD;">      root.value = minRight.value</span></span>
<span class="line"><span style="color:#A6ACCD;">      root.right = this.removeNode(root.right, minRight.value)</span></span>
<span class="line"><span style="color:#A6ACCD;">      return root</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">remove(value) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (this.root) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      this.removeNode(this.root, value)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><p>\u4E0A\u8FF0\u4EE3\u7801\u4E0D\u96BE\u7406\u89E3\uFF0C\u53EF\u80FD\u6700\u9700\u8981\u8BFB\u8005\u601D\u8003\u7684\u5C31\u662F\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">// \u6709\u5DE6\u53F3\u4E24\u4E2A\u5B50\u8282\u70B9</span></span>
<span class="line"><span style="color:#A6ACCD;">let minRight = this.findMinNode(root.right)</span></span>
<span class="line"><span style="color:#A6ACCD;">root.value = minRight.value</span></span>
<span class="line"><span style="color:#A6ACCD;">root.right = this.removeNode(root.right, minRight.value)</span></span>
<span class="line"><span style="color:#A6ACCD;">return root</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u6211\u6765\u7279\u6B8A\u8BF4\u660E\u4E00\u4E0B\uFF1A\u5F53\u9700\u8981\u5220\u9664\u7684\u8282\u70B9\u542B\u6709\u5DE6\u53F3\u4E24\u4E2A\u5B50\u8282\u70B9\u65F6\uFF0C\u56E0\u4E3A\u6211\u4EEC\u8981\u628A\u5F53\u524D\u8282\u70B9\u5220\u9664\uFF0C\u5C31\u9700\u8981\u627E\u5230\u5408\u9002\u7684\u201C\u8865\u4F4D\u201D\u8282\u70B9\uFF0C\u8FD9\u4E2A\u201C\u8865\u4F4D\u201D\u8282\u70B9\u4E00\u5B9A\u5728\u8BE5\u76EE\u6807\u8282\u70B9\u7684\u53F3\u4FA7\u6811\u5F53\u4E2D\uFF0C\u56E0\u4E3A\u8FD9\u6837\u624D\u80FD\u4FDD\u8BC1\u201C\u8865\u4F4D\u201D\u8282\u70B9\u7684\u503C\u4E00\u5B9A\u5927\u4E8E\u8BE5\u76EE\u6807\u8282\u70B9\u7684\u5DE6\u4FA7\u6811\u6240\u6709\u8282\u70B9\uFF0C\u800C\u8BE5\u76EE\u6807\u8282\u70B9\u7684\u5DE6\u4FA7\u6811\u4E0D\u9700\u8981\u8C03\u6574\uFF1B\u540C\u65F6\u4E3A\u4E86\u4FDD\u8BC1\u201C\u8865\u4F4D\u201D\u8282\u70B9\u7684\u503C\u4E00\u5B9A\u8981\u5C0F\u4E8E\u8BE5\u76EE\u6807\u8282\u70B9\u7684\u53F3\u4FA7\u6811\u503C\uFF0C\u56E0\u6B64\u8981\u627E\u7684\u201C\u8865\u4F4D\u201D\u8282\u70B9\u5176\u5B9E\u5C31\u662F\u8BE5\u76EE\u6807\u8282\u70B9\u7684\u53F3\u4FA7\u6811\u5F53\u4E2D\u6700\u5C0F\u7684\u90A3\u4E2A\u8282\u70B9\u3002</p><p>\u8FD9\u4E2A\u8FC7\u7A0B\u6211\u4EEC\u501F\u52A9 this.findMinNode \u65B9\u6CD5\u5B9E\u73B0\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">findMinNode(root) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (!root.left) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      return root</span></span>
<span class="line"><span style="color:#A6ACCD;">    } else {</span></span>
<span class="line"><span style="color:#A6ACCD;">      return this.findMinNode(root.left)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>\u8BE5\u65B9\u6CD5\u4E0D\u65AD\u9012\u5F52\uFF0C\u76F4\u5230\u627E\u5230\u6700\u5DE6\u53F6\u5B50\u8282\u70B9\u5373\u53EF\u3002</p><p>\u67E5\u627E\u65B9\u6CD5\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">searchNode(root, value) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (!root) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      return null</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    if (value &lt; root.value) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      return this.searchNode(root.left, value)</span></span>
<span class="line"><span style="color:#A6ACCD;">    } else if (value &gt; root.value) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      return this.searchNode(root.right, value)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    return root</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">search(value) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (!this.root) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      return false</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    return Boolean(this.searchNode(this.root, value))</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>\u8FD9\u4E5F\u6BD4\u8F83\u7B80\u5355\uFF0C\u5176\u5B9E\u5C31\u662F\u5BF9\u9012\u5F52\u7684\u8FD0\u7528\u3002\u6700\u80FD\u4F53\u73B0\u9012\u5F52\u7B80\u4FBF\u4F18\u52BF\u7684\u5176\u5B9E\u662F\u5BF9\u4E8E\u6811\u7684\u904D\u5386\uFF1A</p><p>\u524D\u5E8F\u904D\u5386\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">preOrder(root) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (root) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      console.log(root.value)</span></span>
<span class="line"><span style="color:#A6ACCD;">      this.preOrder(root.left)</span></span>
<span class="line"><span style="color:#A6ACCD;">      this.preOrder(root.right)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>\u4E2D\u5E8F\u904D\u5386\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">inOrder(root) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (root) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      this.inOrder(root.left)</span></span>
<span class="line"><span style="color:#A6ACCD;">      console.log(root.value)</span></span>
<span class="line"><span style="color:#A6ACCD;">      this.inOrder(root.right)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>\u540E\u5E8F\u904D\u5386\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">postOrder(root) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (root) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      this.postOrder(root.left)</span></span>
<span class="line"><span style="color:#A6ACCD;">      this.postOrder(root.right)</span></span>
<span class="line"><span style="color:#A6ACCD;">      console.log(root.value)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>\u524D\u540E\u4E2D\u5E8F\u904D\u5386\u5176\u5B9E\u5C31\u5728\u4E8E console.log(root.value) \u65B9\u6CD5\u6267\u884C\u7684\u4F4D\u7F6E\u3002</p><h3 id="\u5B57\u5178\u6811" tabindex="-1">\u5B57\u5178\u6811 <a class="header-anchor" href="#\u5B57\u5178\u6811" aria-hidden="true">#</a></h3><p>\u5B57\u5178\u6811\uFF08Trie\uFF09\u662F\u9488\u5BF9\u7279\u5B9A\u7C7B\u578B\u7684\u641C\u7D22\u800C\u4F18\u5316\u7684\u6811\u6570\u636E\u7ED3\u6784\u3002\u5178\u578B\u7684\u4F8B\u5B50\u662F autoComplete\uFF0C\u4E5F\u5C31\u662F\u8BF4\u5B83\u9002\u5408\u5B9E\u73B0\uFF1A\u901A\u8FC7\u90E8\u5206\u503C\u5F97\u5230\u5B8C\u6574\u503C\u7684\u573A\u666F\u3002\u5B57\u5178\u6811\u56E0\u6B64\u4E5F\u662F\u4E00\u79CD\u641C\u7D22\u6811\uFF0C\u6211\u4EEC\u6709\u65F6\u5019\u4E5F\u53EB\u505A\u524D\u7F00\u6811\uFF0C\u56E0\u4E3A\u4EFB\u610F\u4E00\u4E2A\u8282\u70B9\u7684\u540E\u4EE3\u90FD\u5B58\u5728\u5171\u540C\u7684\u524D\u7F00\u3002\u66F4\u591A\u57FA\u7840\u6982\u5FF5\u8BF7\u8BFB\u8005\u5148\u505A\u4E86\u89E3\u3002\u6211\u4EEC\u603B\u7ED3\u4E00\u4E0B\u5B83\u7684\u7279\u70B9\uFF1A</p><ul><li>\u5B57\u5178\u6811\u80FD\u505A\u5230\u9AD8\u6548\u67E5\u8BE2\u548C\u63D2\u5165\uFF0C\u65F6\u95F4\u590D\u6742\u5EA6\u4E3A O(k)\uFF0Ck \u4E3A\u5B57\u7B26\u4E32\u957F\u5EA6</li><li>\u4F46\u662F\u5982\u679C\u5927\u91CF\u5B57\u7B26\u4E32\u6CA1\u6709\u5171\u540C\u524D\u7F00\uFF0C\u90A3\u5C31\u5F88\u8017\u5185\u5B58\uFF0C\u8BFB\u8005\u53EF\u4EE5\u60F3\u8C61\u4E00\u4E0B\u6700\u6781\u7AEF\u7684\u60C5\u51B5\uFF0C\u6240\u6709\u5355\u8BCD\u90FD\u6CA1\u6709\u5171\u540C\u524D\u7F00\u65F6\uFF0C\u8FD9\u9897\u5B57\u5178\u6811\u662F\u4EC0\u4E48\u6837\u5B50</li><li>\u5B57\u5178\u6811\u7684\u6838\u5FC3\u5C31\u662F\u51CF\u5C11\u6CA1\u5FC5\u8981\u7684\u5B57\u7B26\u6BD4\u8F83\uFF0C\u4F7F\u67E5\u8BE2\u9AD8\u6548\u7387\uFF0C\u4E5F\u5C31\u662F\u8BF4\u7528\u7A7A\u95F4\u6362\u65F6\u95F4\uFF0C\u518D\u5229\u7528\u5171\u540C\u524D\u7F00\u6765\u63D0\u9AD8\u67E5\u8BE2\u6548\u7387</li></ul><p>\u9664\u4E86\u6211\u4EEC\u521A\u521A\u63D0\u5230\u7684 autoComplete \u81EA\u52A8\u586B\u5145\u7684\u60C5\u51B5\uFF0C\u5B57\u5178\u6811\u8FD8\u6709\u5F88\u591A\u5176\u4ED6\u5E94\u7528\u573A\u666F\uFF1A</p><ul><li>\u641C\u7D22</li><li>\u8F93\u5165\u6CD5\u9009\u9879</li><li>\u5206\u7C7B</li><li>IP \u5730\u5740\u68C0\u7D22</li><li>\u7535\u8BDD\u53F7\u7801\u68C0\u7D22</li></ul><h3 id="\u5B57\u5178\u6811\u7684\u5B9E\u73B0\u548C\u904D\u5386" tabindex="-1">\u5B57\u5178\u6811\u7684\u5B9E\u73B0\u548C\u904D\u5386 <a class="header-anchor" href="#\u5B57\u5178\u6811\u7684\u5B9E\u73B0\u548C\u904D\u5386" aria-hidden="true">#</a></h3><p>\u5B57\u5178\u6811\u7684\u5B9E\u73B0\u4E5F\u4E0D\u590D\u6742\uFF0C\u6211\u4EEC\u6162\u6162\u4E00\u6B65\u6B65\u6765\uFF0C\u9996\u5148\u5B9E\u73B0\u4E00\u4E2A\u5B57\u5178\u6811\u4E0A\u7684\u8282\u70B9\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">class PrefixTreeNode {</span></span>
<span class="line"><span style="color:#A6ACCD;">  constructor(value) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    // \u5B58\u50A8\u5B50\u8282\u70B9</span></span>
<span class="line"><span style="color:#A6ACCD;">    this.children = {}</span></span>
<span class="line"><span style="color:#A6ACCD;">    this.isEnd = null</span></span>
<span class="line"><span style="color:#A6ACCD;">    this.value = value</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>\u4E00\u4E2A\u5B57\u5178\u6811\u7EE7\u627F PrefixTreeNode \u7C7B\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">class PrefixTree extends PrefixTreeNode {</span></span>
<span class="line"><span style="color:#A6ACCD;">  constructor() {</span></span>
<span class="line"><span style="color:#A6ACCD;">    super(null)</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u6211\u4EEC\u5B9E\u73B0\u65B9\u6CD5\uFF1A</p><ul><li>addWord\uFF1A\u521B\u5EFA\u4E00\u4E2A\u5B57\u5178\u6811\u8282\u70B9</li><li>predictWord\uFF1A\u7ED9\u5B9A\u4E00\u4E2A\u5B57\u7B26\u4E32\uFF0C\u8FD4\u56DE\u5B57\u5178\u6811\u4E2D\u4EE5\u8BE5\u5B57\u7B26\u4E32\u5F00\u5934\u7684\u6240\u6709\u5355\u8BCD</li></ul><p>addWord \u5B9E\u73B0\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">addWord(str) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    const addWordHelper = (node, str) =&gt; {</span></span>
<span class="line"><span style="color:#A6ACCD;">          // \u5F53\u524D node \u4E0D\u542B\u5F53\u524D str \u5F00\u5934\u7684\u76EE\u6807</span></span>
<span class="line"><span style="color:#A6ACCD;">        if (!node.children[str[0]]) {</span></span>
<span class="line"><span style="color:#A6ACCD;">            // \u4EE5\u5F53\u524D str \u5F00\u5934\u7684\u7B2C\u4E00\u4E2A\u5B57\u6BCD\uFF0C\u521B\u5EFA\u4E00\u4E2A PrefixTreeNode \u5B9E\u4F8B</span></span>
<span class="line"><span style="color:#A6ACCD;">            node.children[str[0]] = new PrefixTreeNode(str[0])</span></span>
<span class="line"><span style="color:#A6ACCD;">            if (str.length === 1) {</span></span>
<span class="line"><span style="color:#A6ACCD;">                node.children[str[0]].isEnd = true</span></span>
<span class="line"><span style="color:#A6ACCD;">            } </span></span>
<span class="line"><span style="color:#A6ACCD;">            else if (str.length &gt; 1) {</span></span>
<span class="line"><span style="color:#A6ACCD;">                addWordHelper(node.children[str[0]], str.slice(1))</span></span>
<span class="line"><span style="color:#A6ACCD;">            }</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    addWordHelper(this, str)</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>predictWord \u5B9E\u73B0\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">predictWord(str) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    let getRemainingTree = function(str, tree) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      let node = tree</span></span>
<span class="line"><span style="color:#A6ACCD;">      while (str) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        node = node.children[str[0]]</span></span>
<span class="line"><span style="color:#A6ACCD;">        str = str.substr(1)</span></span>
<span class="line"><span style="color:#A6ACCD;">      }</span></span>
<span class="line"><span style="color:#A6ACCD;">      return node</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // \u8BE5\u6570\u7EC4\u7EF4\u62A4\u6240\u6709\u4EE5 str \u5F00\u5934\u7684\u5355\u8BCD</span></span>
<span class="line"><span style="color:#A6ACCD;">    let allWords = []</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    let allWordsHelper = function(stringSoFar, tree) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      for (let k in tree.children) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        const child = tree.children[k]</span></span>
<span class="line"><span style="color:#A6ACCD;">        let newString = stringSoFar + child.value</span></span>
<span class="line"><span style="color:#A6ACCD;">        if (child.endWord) {</span></span>
<span class="line"><span style="color:#A6ACCD;">          allWords.push(newString)</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">        allWordsHelper(newString, child)</span></span>
<span class="line"><span style="color:#A6ACCD;">      }</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    let remainingTree = getRemainingTree(str, this)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    if (remainingTree) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      allWordsHelper(str, remainingTree)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    return allWords</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h2 id="\u56FE" tabindex="-1">\u56FE <a class="header-anchor" href="#\u56FE" aria-hidden="true">#</a></h2><p>\u56FE\u662F\u7531\u5177\u6709\u8FB9\u7684\u8282\u70B9\u96C6\u5408\u7EC4\u6210\u7684\u6570\u636E\u7ED3\u6784\uFF0C\u56FE\u53EF\u4EE5\u662F\u5B9A\u5411\u7684\u6216\u4E0D\u5B9A\u5411\u7684\u3002\u56E0\u6B64\u56FE\u53EF\u4EE5\u5206\u4E3A\u597D\u591A\u79CD\u7C7B\uFF0C\u8FD9\u91CC\u4E0D\u4E00\u4E00\u8BB2\u89E3\uFF0C\u4E3B\u8981\u770B\u56FE\u7684\u5E94\u7528\u573A\u666F\uFF1A</p><ul><li>LBS \u5730\u56FE\u670D\u52A1\u4EE5\u53CA GPS \u7CFB\u7EDF</li><li>\u793E\u4EA4\u5A92\u4F53\u7F51\u7AD9\u7684\u7528\u6237\u5173\u7CFB\u56FE</li><li>\u524D\u7AEF\u5DE5\u7A0B\u5316\u4E2D\u7684\u5F00\u53D1\u4F9D\u8D56\u56FE</li><li>\u641C\u7D22\u7B97\u6CD5\u4F7F\u7528\u56FE\uFF0C\u4FDD\u8BC1\u641C\u7D22\u7ED3\u679C\u7684\u76F8\u5173\u6027</li><li>\u5BFB\u627E\u964D\u4F4E\u8FD0\u8F93\u548C\u4EA4\u4ED8\u8D27\u7269\u548C\u670D\u52A1\u6210\u672C\u7684\u6700\u4F73\u9014\u5F84</li></ul><p>\u56FE\u4E5F\u662F\u5E94\u7528\u6700\u5E7F\u6CDB\u7684\u6570\u636E\u7ED3\u6784\u4E4B\u4E00\uFF0C\u771F\u5B9E\u573A\u666F\u4E2D\u5904\u5904\u6709\u56FE\u3002\u66F4\u591A\u6982\u5FF5\u8FD8\u662F\u9700\u8981\u8BFB\u8005\u5148\u8FDB\u884C\u4E86\u89E3\uFF0C\u5C24\u5176\u662F\u56FE\u7684\u51E0\u79CD\u57FA\u672C\u5143\u7D20\uFF1A</p><ul><li>\u8282\u70B9 Node</li><li>\u8FB9 Edge</li><li>|V| \u56FE\u4E2D\u9876\u70B9\uFF08\u8282\u70B9\uFF09\u7684\u603B\u6570</li><li>|E| \u56FE\u4E2D\u7684\u8FDE\u63A5\u603B\u6570\uFF08\u8FB9\uFF09</li></ul><h3 id="\u56FE\u7684\u5B9E\u73B0\u548C\u904D\u5386" tabindex="-1">\u56FE\u7684\u5B9E\u73B0\u548C\u904D\u5386 <a class="header-anchor" href="#\u56FE\u7684\u5B9E\u73B0\u548C\u904D\u5386" aria-hidden="true">#</a></h3><p>\u8FD9\u91CC\u6211\u4EEC\u4E3B\u8981\u5B9E\u73B0\u4E00\u4E2A\u6709\u5411\u56FE\uFF0CGraph \u7C7B\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">class Graph {</span></span>
<span class="line"><span style="color:#A6ACCD;">  constructor() {</span></span>
<span class="line"><span style="color:#A6ACCD;">    this.AdjList = new Map()</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u4F7F\u7528 Map \u6570\u636E\u7ED3\u6784\u8868\u8FF0\u56FE\u4E2D\u9876\u70B9\u5173\u7CFB\u3002</p><p>\u5B9E\u73B0\u65B9\u6CD5\uFF1A</p><ul><li>\u6DFB\u52A0\u9876\u70B9\uFF1AaddVertex</li><li>\u6DFB\u52A0\u8FB9\uFF1AaddEdge</li><li>\u6253\u5370\u56FE\uFF1Aprint</li><li>\u5E7F\u5EA6\u4F18\u5148\u7B97\u6CD5\u904D\u5386</li><li>\u6DF1\u5EA6\u4F18\u5148\u7B97\u6CD5</li></ul><p>addVertex \u65B9\u6CD5\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">addVertex(vertex) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  if (!this.AdjList.has(vertex)) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    this.AdjList.set(vertex, [])</span></span>
<span class="line"><span style="color:#A6ACCD;">  } else {</span></span>
<span class="line"><span style="color:#A6ACCD;">    throw &#39;vertex already exist!&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>\u521B\u5EFA\u9876\u70B9\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">let graph = new Graph();</span></span>
<span class="line"><span style="color:#A6ACCD;">graph.addVertex(&#39;A&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">graph.addVertex(&#39;B&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">graph.addVertex(&#39;C&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">graph.addVertex(&#39;D&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u5176\u4E2D A\u3001B\u3001C\u3001D \u9876\u70B9\u90FD\u5BF9\u5E94\u4E00\u4E2A\u6570\u7EC4\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">  &#39;A&#39; =&gt; [],</span></span>
<span class="line"><span style="color:#A6ACCD;">  &#39;B&#39; =&gt; [],</span></span>
<span class="line"><span style="color:#A6ACCD;">  &#39;C&#39; =&gt; [],</span></span>
<span class="line"><span style="color:#A6ACCD;">  &#39;D&#39; =&gt; []</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u8BE5\u6570\u7EC4\u5C06\u7528\u6765\u5B58\u50A8\u8FB9\u3002\u6211\u4EEC\u8BBE\u8BA1\u56FE\u9884\u8BA1\u5F97\u5230\u5982\u4E0B\u5173\u7CFB\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">Map {</span></span>
<span class="line"><span style="color:#A6ACCD;">  &#39;A&#39; =&gt; [&#39;B&#39;, &#39;C&#39;, &#39;D&#39;],</span></span>
<span class="line"><span style="color:#A6ACCD;">  &#39;B&#39; =&gt; [],</span></span>
<span class="line"><span style="color:#A6ACCD;">  &#39;C&#39; =&gt; [&#39;B&#39;],</span></span>
<span class="line"><span style="color:#A6ACCD;">  &#39;D&#39; =&gt; [&#39;C&#39;]</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u6839\u636E\u6B64\u63CF\u8FF0\uFF0C\u5176\u5B9E\u5DF2\u7ECF\u53EF\u4EE5\u628A\u56FE\u753B\u51FA\u6765\u4E86\u3002addEdge \u56E0\u6B64\u9700\u8981\u4E24\u4E2A\u53C2\u6570\uFF1A\u4E00\u4E2A\u662F\u9876\u70B9\uFF0C\u4E00\u4E2A\u662F\u8FDE\u63A5\u5BF9\u8C61 Node\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;"> addEdge(vertex, node) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (this.AdjList.has(vertex)) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      if (this.AdjList.has(node)){</span></span>
<span class="line"><span style="color:#A6ACCD;">        let arr = this.AdjList.get(vertex)</span></span>
<span class="line"><span style="color:#A6ACCD;">        if(!arr.includes(node)){</span></span>
<span class="line"><span style="color:#A6ACCD;">          arr.push(node)</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">      }else {</span></span>
<span class="line"><span style="color:#A6ACCD;">        throw \`Can&#39;t add non-existing vertex -&gt;&#39;\${node}&#39;\`</span></span>
<span class="line"><span style="color:#A6ACCD;">      }</span></span>
<span class="line"><span style="color:#A6ACCD;">    } else {</span></span>
<span class="line"><span style="color:#A6ACCD;">      throw \`You should add &#39;\${vertex}&#39; first\`</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>\u7406\u6E05\u695A\u6570\u636E\u5173\u7CFB\uFF0C\u6211\u4EEC\u5C31\u53EF\u4EE5\u6253\u5370\u56FE\u4E86\uFF0C\u5176\u5B9E\u5C31\u662F\u4E00\u4E2A\u5F88\u7B80\u5355\u7684 for...of \u5FAA\u73AF\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">print() {</span></span>
<span class="line"><span style="color:#A6ACCD;">  for (let [key, value] of this.AdjList) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(key, value)</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u5269\u4E0B\u7684\u5185\u5BB9\u5C31\u662F\u904D\u5386\u56FE\u4E86\u3002</p><p>\u5E7F\u5EA6\u4F18\u5148\u7B97\u6CD5\uFF08BFS\uFF09\uFF0C\u662F\u4E00\u79CD\u5229\u7528\u961F\u5217\u5B9E\u73B0\u7684\u641C\u7D22\u7B97\u6CD5\u3002\u5BF9\u4E8E\u56FE\uFF0C\u5176\u641C\u7D22\u8FC7\u7A0B\u548C \u201C\u6E56\u9762\u4E22\u8FDB\u4E00\u5757\u77F3\u5934\u6FC0\u8D77\u5C42\u5C42\u6D9F\u6F2A\u201D \u7C7B\u4F3C\u3002\u6362\u6210\u7B97\u6CD5\u8BED\u8A00\uFF0C\u5C31\u662F\u4ECE\u8D77\u70B9\u51FA\u53D1\uFF0C\u5BF9\u4E8E\u6BCF\u6B21\u51FA\u961F\u5217\u7684\u70B9\uFF0C\u90FD\u8981\u904D\u5386\u5176\u56DB\u5468\u7684\u70B9\u3002</p><p>\u56E0\u6B64 BFS \u7684\u5B9E\u73B0\u6B65\u9AA4\uFF1A</p><ul><li>\u8D77\u59CB\u8282\u70B9\u4F5C\u4E3A\u8D77\u59CB\uFF0C\u5E76\u521D\u59CB\u5316\u4E00\u4E2A\u7A7A\u5BF9\u8C61\uFF1Avisited</li><li>\u521D\u59CB\u5316\u4E00\u4E2A\u7A7A\u6570\u7EC4\uFF0C\u8BE5\u6570\u7EC4\u5C06\u6A21\u62DF\u4E00\u4E2A\u961F\u5217</li><li>\u5C06\u8D77\u59CB\u8282\u70B9\u6807\u8BB0\u4E3A\u5DF2\u8BBF\u95EE</li><li>\u5C06\u8D77\u59CB\u8282\u70B9\u653E\u5165\u961F\u5217\u4E2D</li><li>\u5FAA\u73AF\u76F4\u5230\u961F\u5217\u4E3A\u7A7A</li></ul><p>\u5B9E\u73B0\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">createVisitedObject() {</span></span>
<span class="line"><span style="color:#A6ACCD;">  let map = {}</span></span>
<span class="line"><span style="color:#A6ACCD;">  for(let key of this.AdjList.keys()) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    arr[key] = false</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">  return map</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">bfs(initialNode) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  // \u521B\u5EFA\u4E00\u4E2A\u5DF2\u8BBF\u95EE\u8282\u70B9\u7684 map</span></span>
<span class="line"><span style="color:#A6ACCD;">  let visited = this.createVisitedObject()</span></span>
<span class="line"><span style="color:#A6ACCD;">  // \u6A21\u62DF\u4E00\u4E2A\u961F\u5217</span></span>
<span class="line"><span style="color:#A6ACCD;">  let queue = []</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  // \u7B2C\u4E00\u4E2A\u8282\u70B9\u5DF2\u8BBF\u95EE</span></span>
<span class="line"><span style="color:#A6ACCD;">  visited[initialNode] = true</span></span>
<span class="line"><span style="color:#A6ACCD;">  // \u7B2C\u4E00\u4E2A\u8282\u70B9\u5165\u961F\u5217</span></span>
<span class="line"><span style="color:#A6ACCD;">  queue.push(initialNode)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  while(queue.length) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    let current = queue.shift()</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(current)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">     // \u83B7\u5F97\u8BE5\u8282\u70B9\u7684\u5176\u4ED6\u8282\u70B9\u5173\u7CFB</span></span>
<span class="line"><span style="color:#A6ACCD;">    let arr = this.AdjList.get(current)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    for (let elem of arr) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      // \u5982\u679C\u5F53\u524D\u8282\u70B9\u6CA1\u6709\u8BBF\u95EE\u8FC7</span></span>
<span class="line"><span style="color:#A6ACCD;">      if (!visited[elem]) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        visited[elem] = true</span></span>
<span class="line"><span style="color:#A6ACCD;">        q.push(elem)</span></span>
<span class="line"><span style="color:#A6ACCD;">      }</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><p>\u90A3\u4E48\u5BF9\u4E8E\u6DF1\u5EA6\u4F18\u5148\u641C\u7D22\u7B97\u6CD5\uFF08DFS\uFF09\uFF0C\u6211\u628A\u5B83\u603B\u7ED3\u4E3A\uFF1A\u201C\u4E0D\u649E\u5357\u5899\u4E0D\u56DE\u5934\u201D\uFF0C\u4ECE\u8D77\u70B9\u51FA\u53D1\uFF0C\u5148\u628A\u4E00\u4E2A\u65B9\u5411\u7684\u70B9\u90FD\u904D\u5386\u5B8C\u624D\u4F1A\u6539\u53D8\u65B9\u5411\u3002\u6362\u6210\u7A0B\u5E8F\u8BED\u8A00\u5C31\u662F\uFF1A\u201CDFS \u662F\u5229\u7528\u9012\u5F52\u5B9E\u73B0\u7684\u641C\u7D22\u7B97\u6CD5\u201D\u3002</p><p>\u56E0\u6B64 DFS \u8FC7\u7A0B\uFF1A</p><ul><li>\u8D77\u59CB\u8282\u70B9\u4F5C\u4E3A\u8D77\u59CB\uFF0C\u521B\u5EFA\u8BBF\u95EE\u5BF9\u8C61</li><li>\u8C03\u7528\u8F85\u52A9\u51FD\u6570\u9012\u5F52\u8D77\u59CB\u8282\u70B9</li></ul><p>\u5B9E\u73B0\u4EE3\u7801\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">createVisitedObject() {</span></span>
<span class="line"><span style="color:#A6ACCD;">  let map = {}</span></span>
<span class="line"><span style="color:#A6ACCD;">  for (let key of this.AdjList.keys()) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    arr[key] = false</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">  return map</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"> dfs(initialNode) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    let visited = this.createVisitedObject()</span></span>
<span class="line"><span style="color:#A6ACCD;">    this.dfsHelper(initialNode, visited)</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  dfsHelper(node, visited) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    visited[node] = true</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(node)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    let arr = this.AdjList.get(node)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    for (let elem of arr) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      if (!visited[elem]) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.dfsHelper(elem, visited)</span></span>
<span class="line"><span style="color:#A6ACCD;">      }</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>BFS \u7684\u91CD\u70B9\u5728\u4E8E\u961F\u5217\uFF0C\u800C DFS \u7684\u91CD\u70B9\u5728\u4E8E\u9012\u5F52\uFF0C\u8FD9\u662F\u5B83\u4EEC\u7684\u672C\u8D28\u533A\u522B\u3002</p><h3 id="\u56FE\u5728\u524D\u7AEF\u4E2D\u7684\u5E94\u7528" tabindex="-1">\u56FE\u5728\u524D\u7AEF\u4E2D\u7684\u5E94\u7528 <a class="header-anchor" href="#\u56FE\u5728\u524D\u7AEF\u4E2D\u7684\u5E94\u7528" aria-hidden="true">#</a></h3><p>\u56FE\u5176\u5B9E\u5728\u524D\u7AEF\u4E2D\u5E94\u7528\u4E0D\u7B97\u7279\u522B\u591A\uFF0C\u4F46\u7EDD\u5BF9\u8FD8\u662F\u4E0D\u5BB9\u5FFD\u89C6\u7684\u4E00\u90E8\u5206\u3002\u8FD9\u91CC\u6211\u4E3E\u4E00\u4E2A\u6211\u73B0\u5B9E\u4E2D\u5E94\u7528\u7684\u4F8B\u5B50\u2014\u2014\u5FAA\u73AF\u56FE\u3002</p><p>\u5728\u524D\u7AEF\u5DE5\u7A0B\u5316\u53D1\u5C55\u7684\u4ECA\u5929\uFF0C\u7406\u6E05\u9879\u76EE\u4E2D\u7684\u4F9D\u8D56\u5173\u7CFB\uFF1A\u6BD4\u5982\u67E5\u627E\u9879\u76EE\u4E2D\u7684\u5FAA\u73AF\u4F9D\u8D56\uFF0C\u53EF\u89C6\u5316\u4F9D\u8D56\u90FD\u662F\u56FE\u7684\u5E94\u7528\uFF0C\u6709\u52A9\u4E8E\u5F00\u53D1\u8005\u5728\u5B8F\u89C2\u4E0A\u628A\u63A7\u5DE5\u7A0B\u5316\u9879\u76EE\u3002\u5728\u6211\u4EEC\u7684\u9879\u76EE\u4E2D\uFF0C\u6211\u501F\u52A9 <a href="https://mermaidjs.github.io/#/" target="_blank" rel="noreferrer">mermaidj</a> \u753B\u56FE\u5DE5\u5177\uFF0C\u5B9E\u73B0\u4E86\u9879\u76EE\u4F9D\u8D56\u7684\u5B8C\u5168\u53EF\u89C6\u5316\u3002\u5E76\u501F\u52A9 npm script \u6765\u751F\u6210\u56FE\u7247\u7ED3\u679C\uFF0C\u76F8\u5173 script \u811A\u672C\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">yarn graph</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u811A\u672C\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">import glob from &#39;glob&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">import readJSON from &#39;XXX/utils/readJSON&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">const pkgs = glob.sync(&#39;packages/*/package.json&#39;).map(readJSON)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">const deps = {}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">for (const pkg of pkgs) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  deps[pkg.name] = Object.keys(pkg.dependencies || []).filter(dep =&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // ...</span></span>
<span class="line"><span style="color:#A6ACCD;">  )</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">const graph = { code: &#39;&#39;, mermaid: { theme: &#39;default&#39; } }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">graph.code += &#39;graph TD;&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">for (const name in deps) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  for (const dep of deps[name]) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    graph.code += \`\${name}--&gt;\${dep};\`</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">const base64 = Buffer.from(JSON.stringify(graph)).toString(&#39;base64&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">/* eslint-disable-next-line */</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(</span></span>
<span class="line"><span style="color:#A6ACCD;">  \`Open in browser: https://mermaidjs.github.io/mermaid-live-editor/#/edit/\${base64}\`</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>\u4E0A\u8FF0\u4EE3\u7801\uFF0C\u6211\u9996\u5148\u83B7\u53D6\u5230 packages/*/package.json \u4E2D\u58F0\u660E\u7684\u6240\u6709\u4F9D\u8D56\uFF0C\u7136\u540E\u5BF9\u4F9D\u8D56\u8FDB\u884C\u5FC5\u8981\u6027\u8FC7\u6EE4\u4E4B\u540E\uFF0C\u7EF4\u62A4\u5230 deps \u5BF9\u8C61\u5F53\u4E2D\uFF0C\u6309\u7167 mermaid \u9700\u6C42\uFF0C\u5C06 monorepo \u9879\u76EE\u4E2D\u7684\u6BCF\u4E00\u4E2A\u5B50\u9879\u76EE\u540D\u548C\u4F9D\u8D56\u6309\u7167 \u2192 \u7684\u95F4\u9694\u7EF4\u62A4\u4E3A graph.code\uFF0C\u6700\u540E\u901A\u8FC7\u751F\u6210 base64 \u4EA4\u7ED9 mermaid \u8FDB\u884C\u7ED8\u56FE\uFF0C\u7ED8\u56FE\u8FC7\u7A0B\u4F1A\u6839\u636E\u7EA6\u5B9A\uFF08\u2192 \u7684\u6807\u8BB0\uFF09\uFF0C\u6210\u751F\u53EF\u89C6\u5316\u7684\u4F9D\u8D56\u56FE\u3002</p><p>\u6700\u7EC8\u6548\u679C\uFF1A</p><p><img src="https://images.gitbook.cn/d92587a0-d04f-11e9-82a1-439033eb1f8a" alt="enter image description here"></p><p>\u90A3\u4E48 mermaid \u662F\u5982\u4F55\u5BF9\u56FE\u8FDB\u884C\u7ED8\u5236\u7684\u5462\uFF1F\u4E86\u89E3\u4E86\u8BFE\u7A0B\u524D\u9762\u5B9E\u73B0\u56FE\u7684\u4EE3\u7801\uFF0C\u6211\u4EEC\u518D\u770B mermaid \u7ED8\u5236\u56FE\u7684\u90E8\u5206\u6E90\u7801\u5B9E\u73B0\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">export const addVertices = function (vert, g, svgId) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  const svg = d3.select(\`[id=&quot;\${svgId}&quot;]\`)</span></span>
<span class="line"><span style="color:#A6ACCD;">  const keys = Object.keys(vert)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  const styleFromStyleArr = function (styleStr, arr) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    // Create a compound style definition from the style definitions found for the node in the graph definition</span></span>
<span class="line"><span style="color:#A6ACCD;">    for (let i = 0; i &lt; arr.length; i++) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      if (typeof arr[i] !== &#39;undefined&#39;) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        styleStr = styleStr + arr[i] + &#39;;&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">      }</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    return styleStr</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  // Iterate through each item in the vertex object (containing all the vertices found) in the graph definition</span></span>
<span class="line"><span style="color:#A6ACCD;">  keys.forEach(function (id) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    const vertex = vert[id]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    /**</span></span>
<span class="line"><span style="color:#A6ACCD;">     * Variable for storing the classes for the vertex</span></span>
<span class="line"><span style="color:#A6ACCD;">     * @type {string}</span></span>
<span class="line"><span style="color:#A6ACCD;">     */</span></span>
<span class="line"><span style="color:#A6ACCD;">    let classStr = &#39;&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (vertex.classes.length &gt; 0) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      classStr = vertex.classes.join(&#39; &#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    /**</span></span>
<span class="line"><span style="color:#A6ACCD;">     * Variable for storing the extracted style for the vertex</span></span>
<span class="line"><span style="color:#A6ACCD;">     * @type {string}</span></span>
<span class="line"><span style="color:#A6ACCD;">     */</span></span>
<span class="line"><span style="color:#A6ACCD;">    let style = &#39;&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // Create a compound style definition from the style definitions found for the node in the graph definition</span></span>
<span class="line"><span style="color:#A6ACCD;">    style = styleFromStyleArr(style, vertex.styles)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // Use vertex id as text in the box if no text is provided by the graph definition</span></span>
<span class="line"><span style="color:#A6ACCD;">    let vertexText = vertex.text !== undefined ? vertex.text : vertex.id</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // We create a SVG label, either by delegating to addHtmlLabel or manually</span></span>
<span class="line"><span style="color:#A6ACCD;">    let vertexNode</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (conf.htmlLabels) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      // TODO: addHtmlLabel accepts a labelStyle. Do we possibly have that?</span></span>
<span class="line"><span style="color:#A6ACCD;">      const node = { label: vertexText.replace(/fa[lrsb]?:fa-[\\w-]+/g, s =&gt; \`&lt;i class=&#39;\${s.replace(&#39;:&#39;, &#39; &#39;)}&#39;&gt;&lt;/i&gt;\`) }</span></span>
<span class="line"><span style="color:#A6ACCD;">      vertexNode = addHtmlLabel(svg, node).node()</span></span>
<span class="line"><span style="color:#A6ACCD;">      vertexNode.parentNode.removeChild(vertexNode)</span></span>
<span class="line"><span style="color:#A6ACCD;">    } else {</span></span>
<span class="line"><span style="color:#A6ACCD;">      const svgLabel = document.createElementNS(&#39;http://www.w3.org/2000/svg&#39;, &#39;text&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">      const rows = vertexText.split(/&lt;br[/]{0,1}&gt;/)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">      for (let j = 0; j &lt; rows.length; j++) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        const tspan = document.createElementNS(&#39;http://www.w3.org/2000/svg&#39;, &#39;tspan&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">        tspan.setAttributeNS(&#39;http://www.w3.org/XML/1998/namespace&#39;, &#39;xml:space&#39;, &#39;preserve&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">        tspan.setAttribute(&#39;dy&#39;, &#39;1em&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">        tspan.setAttribute(&#39;x&#39;, &#39;1&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">        tspan.textContent = rows[j]</span></span>
<span class="line"><span style="color:#A6ACCD;">        svgLabel.appendChild(tspan)</span></span>
<span class="line"><span style="color:#A6ACCD;">      }</span></span>
<span class="line"><span style="color:#A6ACCD;">      vertexNode = svgLabel</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // If the node has a link, we wrap it in a SVG link</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (vertex.link) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      const link = document.createElementNS(&#39;http://www.w3.org/2000/svg&#39;, &#39;a&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">      link.setAttributeNS(&#39;http://www.w3.org/2000/svg&#39;, &#39;href&#39;, vertex.link)</span></span>
<span class="line"><span style="color:#A6ACCD;">      link.setAttributeNS(&#39;http://www.w3.org/2000/svg&#39;, &#39;rel&#39;, &#39;noopener&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">      link.appendChild(vertexNode)</span></span>
<span class="line"><span style="color:#A6ACCD;">      vertexNode = link</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    let radious = 0</span></span>
<span class="line"><span style="color:#A6ACCD;">    let _shape = &#39;&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // Set the shape based parameters</span></span>
<span class="line"><span style="color:#A6ACCD;">    switch (vertex.type) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      case &#39;round&#39;:</span></span>
<span class="line"><span style="color:#A6ACCD;">        radious = 5</span></span>
<span class="line"><span style="color:#A6ACCD;">        _shape = &#39;rect&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        break</span></span>
<span class="line"><span style="color:#A6ACCD;">      case &#39;square&#39;:</span></span>
<span class="line"><span style="color:#A6ACCD;">        _shape = &#39;rect&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        break</span></span>
<span class="line"><span style="color:#A6ACCD;">      case &#39;diamond&#39;:</span></span>
<span class="line"><span style="color:#A6ACCD;">        _shape = &#39;question&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        break</span></span>
<span class="line"><span style="color:#A6ACCD;">      case &#39;odd&#39;:</span></span>
<span class="line"><span style="color:#A6ACCD;">        _shape = &#39;rect_left_inv_arrow&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        break</span></span>
<span class="line"><span style="color:#A6ACCD;">      case &#39;lean_right&#39;:</span></span>
<span class="line"><span style="color:#A6ACCD;">        _shape = &#39;lean_right&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        break</span></span>
<span class="line"><span style="color:#A6ACCD;">      case &#39;lean_left&#39;:</span></span>
<span class="line"><span style="color:#A6ACCD;">        _shape = &#39;lean_left&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        break</span></span>
<span class="line"><span style="color:#A6ACCD;">      case &#39;trapezoid&#39;:</span></span>
<span class="line"><span style="color:#A6ACCD;">        _shape = &#39;trapezoid&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        break</span></span>
<span class="line"><span style="color:#A6ACCD;">      case &#39;inv_trapezoid&#39;:</span></span>
<span class="line"><span style="color:#A6ACCD;">        _shape = &#39;inv_trapezoid&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        break</span></span>
<span class="line"><span style="color:#A6ACCD;">      case &#39;odd_right&#39;:</span></span>
<span class="line"><span style="color:#A6ACCD;">        _shape = &#39;rect_left_inv_arrow&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        break</span></span>
<span class="line"><span style="color:#A6ACCD;">      case &#39;circle&#39;:</span></span>
<span class="line"><span style="color:#A6ACCD;">        _shape = &#39;circle&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        break</span></span>
<span class="line"><span style="color:#A6ACCD;">      case &#39;ellipse&#39;:</span></span>
<span class="line"><span style="color:#A6ACCD;">        _shape = &#39;ellipse&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        break</span></span>
<span class="line"><span style="color:#A6ACCD;">      case &#39;group&#39;:</span></span>
<span class="line"><span style="color:#A6ACCD;">        _shape = &#39;rect&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        break</span></span>
<span class="line"><span style="color:#A6ACCD;">      default:</span></span>
<span class="line"><span style="color:#A6ACCD;">        _shape = &#39;rect&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // Add the node</span></span>
<span class="line"><span style="color:#A6ACCD;">    g.setNode(vertex.id, { labelType: &#39;svg&#39;, shape: _shape, label: vertexNode, rx: radious, ry: radious, &#39;class&#39;: classStr, style: style, id: vertex.id })</span></span>
<span class="line"><span style="color:#A6ACCD;">  })</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">/**</span></span>
<span class="line"><span style="color:#A6ACCD;"> * Add edges to graph based on parsed graph defninition</span></span>
<span class="line"><span style="color:#A6ACCD;"> * @param {Object} edges The edges to add to the graph</span></span>
<span class="line"><span style="color:#A6ACCD;"> * @param {Object} g The graph object</span></span>
<span class="line"><span style="color:#A6ACCD;"> */</span></span>
<span class="line"><span style="color:#A6ACCD;">export const addEdges = function (edges, g) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  let cnt = 0</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  let defaultStyle</span></span>
<span class="line"><span style="color:#A6ACCD;">  if (typeof edges.defaultStyle !== &#39;undefined&#39;) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    defaultStyle = edges.defaultStyle.toString().replace(/,/g, &#39;;&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  edges.forEach(function (edge) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    cnt++</span></span>
<span class="line"><span style="color:#A6ACCD;">    const edgeData = {}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // Set link type for rendering</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (edge.type === &#39;arrow_open&#39;) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      edgeData.arrowhead = &#39;none&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    } else {</span></span>
<span class="line"><span style="color:#A6ACCD;">      edgeData.arrowhead = &#39;normal&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    let style = &#39;&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (typeof edge.style !== &#39;undefined&#39;) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      edge.style.forEach(function (s) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        style = style + s + &#39;;&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">      })</span></span>
<span class="line"><span style="color:#A6ACCD;">    } else {</span></span>
<span class="line"><span style="color:#A6ACCD;">      switch (edge.stroke) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        case &#39;normal&#39;:</span></span>
<span class="line"><span style="color:#A6ACCD;">          style = &#39;fill:none&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">          if (typeof defaultStyle !== &#39;undefined&#39;) {</span></span>
<span class="line"><span style="color:#A6ACCD;">            style = defaultStyle</span></span>
<span class="line"><span style="color:#A6ACCD;">          }</span></span>
<span class="line"><span style="color:#A6ACCD;">          break</span></span>
<span class="line"><span style="color:#A6ACCD;">        case &#39;dotted&#39;:</span></span>
<span class="line"><span style="color:#A6ACCD;">          style = &#39;stroke: #333; fill:none;stroke-width:2px;stroke-dasharray:3;&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">          break</span></span>
<span class="line"><span style="color:#A6ACCD;">        case &#39;thick&#39;:</span></span>
<span class="line"><span style="color:#A6ACCD;">          style = &#39;stroke: #333; stroke-width: 3.5px;fill:none&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">          break</span></span>
<span class="line"><span style="color:#A6ACCD;">      }</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    edgeData.style = style</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    if (typeof edge.interpolate !== &#39;undefined&#39;) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      edgeData.curve = interpolateToCurve(edge.interpolate, d3.curveLinear)</span></span>
<span class="line"><span style="color:#A6ACCD;">    } else if (typeof edges.defaultInterpolate !== &#39;undefined&#39;) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      edgeData.curve = interpolateToCurve(edges.defaultInterpolate, d3.curveLinear)</span></span>
<span class="line"><span style="color:#A6ACCD;">    } else {</span></span>
<span class="line"><span style="color:#A6ACCD;">      edgeData.curve = interpolateToCurve(conf.curve, d3.curveLinear)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    if (typeof edge.text === &#39;undefined&#39;) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      if (typeof edge.style !== &#39;undefined&#39;) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        edgeData.arrowheadStyle = &#39;fill: #333&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">      }</span></span>
<span class="line"><span style="color:#A6ACCD;">    } else {</span></span>
<span class="line"><span style="color:#A6ACCD;">      edgeData.arrowheadStyle = &#39;fill: #333&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">      if (typeof edge.style === &#39;undefined&#39;) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        edgeData.labelpos = &#39;c&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        if (conf.htmlLabels) {</span></span>
<span class="line"><span style="color:#A6ACCD;">          edgeData.labelType = &#39;html&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">          edgeData.label = &#39;&lt;span class=&quot;edgeLabel&quot;&gt;&#39; + edge.text + &#39;&lt;/span&gt;&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        } else {</span></span>
<span class="line"><span style="color:#A6ACCD;">          edgeData.labelType = &#39;text&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">          edgeData.style = edgeData.style || &#39;stroke: #333; stroke-width: 1.5px;fill:none&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">          edgeData.label = edge.text.replace(/&lt;br&gt;/g, &#39;\\n&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">      } else {</span></span>
<span class="line"><span style="color:#A6ACCD;">        edgeData.label = edge.text.replace(/&lt;br&gt;/g, &#39;\\n&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">      }</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // Add the edge to the graph</span></span>
<span class="line"><span style="color:#A6ACCD;">    g.setEdge(edge.start, edge.end, edgeData, cnt)</span></span>
<span class="line"><span style="color:#A6ACCD;">  })</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br></div></div><p><strong>\u90A3\u4E48\u6839\u636E\u6211\u7684\u811A\u672C\uFF0C\u7528 \u2192 \u8868\u73B0\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u9664\u4E86\u53EF\u89C6\u5316\u4EE5\u5916\uFF0C\u8FD8\u6709\u5176\u4ED6\u7528\u5904\u5417\uFF1F</strong> \u5176\u5B9E\u80AF\u5B9A\u662F\u6709\u7684\uFF0C\u9664\u4E86\u201C\u82B1\u67B6\u5B50\u201D\uFF0C\u8FD9\u4E2A\u4F9D\u8D56\u56FE\u5BF9\u4E8E\u9879\u76EE\u7684\u90E8\u7F72\u6784\u5EFA\u4E5F\u6709\u975E\u5E38\u91CD\u8981\u7684\u4F5C\u7528\u3002\u6BD4\u5982\u5728\u5BF9 monorepo \u9879\u76EE\u8FDB\u884C\u6784\u5EFA\u65F6\uFF0C\u56E0\u4E3A\u5B50\u9879\u76EE\u8FC7\u591A\uFF0C\u5BFC\u81F4\u6784\u5EFA\u65F6\u95F4\u8FC7\u957F\u3002\u4E3A\u6B64\uFF0C\u6211\u7ED9\u51FA\u7684\u65B9\u6848\u662F\u589E\u91CF\u6784\u5EFA\uFF0C\u5982\u679C\u8FD9\u6B21\u6539\u52A8\u53EA\u8BBE\u8BA1\u9879\u76EE A\u3001\u9879\u76EE B\uFF0C\u4EE5\u53CA\u516C\u5171\u4F9D\u8D56 C\uFF0C\u90A3\u4E48\u9879\u76EE C\uFF0C\u9879\u76EE D \u7B49\u5176\u4ED6\u9879\u76EE\u5728\u6784\u5EFA\u65F6\u53EA\u9700\u8981\u8BFB\u53D6\u7F13\u5B58\u6784\u5EFA\u7ED3\u679C\u5373\u53EF\u3002\u601D\u8DEF\u662F\u5F88\u7B80\u5355\uFF0C\u4F46\u662F\u4E00\u4E2A\u76F4\u63A5\u95EE\u9898\u662F\uFF0C\u5982\u679C\u68C0\u6D4B\u8BF4\u771F\u6B63\u9700\u8981\u6784\u5EFA\u7684\u9879\u76EE\u5462\uFF1F</p><p>\u4E3E\u4E2A\u4F8B\u5B50\uFF0C\u9879\u76EE A \u4F9D\u8D56\u516C\u5171\u4F9D\u8D56 C\uFF0C\u90A3\u4E48\u53CA\u65F6\u901A\u8FC7 git hook \u62FF\u5230\u7684 diff \u8868\u660E\u9879\u76EE A \u5E76\u6CA1\u6709\u4EE3\u7801\u53D8\u52A8\uFF0C\u4F46\u662F\u53EF\u80FD\u56E0\u4E3A C \u53D8\u4E86\uFF0C\u6211\u4EEC\u8FD8\u9700\u8981\u91CD\u65B0\u6784\u5EFA\u9879\u76EE A\uFF08\u56E0\u4E3A A \u4F9D\u8D56 C\uFF09\u3002\u6309\u7167\u6B63\u5E38\u7684\u601D\u8DEF\uFF0C\u9700\u8981\u904D\u5386\u6574\u4E2A\u9879\u76EE\uFF0C\u8FD9\u6837\u5E26\u6765\u7684\u95EE\u9898\u662F\u589E\u52A0\u4E86\u56DE\u6EAF\u6784\u5EFA\u7684\u53EF\u80FD\uFF1A\u6784\u5EFA\u65F6\u5148\u904D\u5386\u5230 A\uFF0C\u8BFB\u53D6\u7F13\u5B58\uFF0C\u518D\u904D\u5386\u5230 C \u65F6\uFF0C\u4E0D\u5F97\u4E0D\u56DE\u9000\u5230 A\uFF0C\u91CD\u65B0\u6784\u5EFA\u3002\u89E3\u51B3\u601D\u8DEF\u5C31\u662F\u4F7F\u7528\u4E00\u4E2A\u62D3\u6251\u56FE\uFF0C\u6839\u636E\u62D3\u6251\u56FE\uFF0C\u6309\u7167\u4E00\u5B9A\u7684\u987A\u5E8F\u8FDB\u884C\u904D\u5386\u548C\u7F16\u8BD1\u6784\u5EFA\u5373\u53EF\u3002</p><p>\u8FD9\u662F\u6211\u8FD1\u671F\u4E00\u4E2A\u4F7F\u7528\u5230\u62D3\u6251\u56FE\u6570\u636E\u7ED3\u6784\u7684\u7ECF\u5178\u573A\u666F\u3002\u5177\u4F53\u5B9E\u65BD\u8FC7\u7A0B\u56E0\u4E3A\u673A\u5BC6\u6027\uFF0C\u6211\u4E0D\u5728\u8D34\u4EE3\u7801\u4E86\uFF0C\u5BF9\u4E8E\u8BFB\u8005\u6765\u8BF4\uFF0C\u66F4\u91CD\u8981\u5730\u662F\u4F53\u4F1A\u601D\u60F3\uFF0C\u76F8\u4FE1\u81EA\u5DF1\u52A8\u624B\u5B9E\u73B0\u4E5F\u4E0D\u4F1A\u56F0\u96BE\u3002</p><h2 id="\u6563\u5217\u8868\uFF08\u54C8\u5E0C\u8868\uFF09" tabindex="-1">\u6563\u5217\u8868\uFF08\u54C8\u5E0C\u8868\uFF09 <a class="header-anchor" href="#\u6563\u5217\u8868\uFF08\u54C8\u5E0C\u8868\uFF09" aria-hidden="true">#</a></h2><p>\u6563\u5217\u8868\u662F\u4E00\u79CD\u4EE5 key-value \u5F62\u5F0F\u5B58\u50A8\u6570\u636E\u7684\u6570\u636E\u7ED3\u6784\uFF0C\u53EF\u4EE5\u628A\u6563\u5217\u8868\u7406\u89E3\u4E3A\u4E00\u79CD\u9AD8\u7EA7\u7684\u6570\u7EC4\uFF0C\u8FD9\u79CD\u6570\u7EC4\u7684\u4E0B\u6807\u53EF\u4EE5\u662F\u5F88\u5927\u7684\u6574\u6570\uFF0C\u6D6E\u70B9\u6570\uFF0C\u5B57\u7B26\u4E32\u751A\u81F3\u7ED3\u6784\u4F53\u3002\u8FD9\u79CD\u6570\u636E\u7ED3\u6784\u975E\u5E38\u6709\u7528\uFF0Cjs \u91CC\u7684 Map/Set/WeakMap/WeakSet \u5728 v8 \u91CC\u90FD\u662F\u901A\u8FC7\u6563\u5217\u8868\u6765\u5B9E\u73B0\u7684\uFF0C\u518D\u6BD4\u5982 LRU Cache\u3001\u6570\u636E\u5E93\u7D22\u5F15\u7B49\u975E\u5E38\u591A\u7684\u573A\u666F\u4E5F\u90FD\u80FD\u770B\u5230\u6563\u5217\u8868\u7684\u8EAB\u5F71\u3002</p><p>\u6563\u5217\u5E76\u4E0D\u4EC5\u4EC5\u662F\u4E00\u79CD\u6280\u672F\uFF0C\u4ECE\u67D0\u79CD\u610F\u4E49\u4E0A\u8BB2\uFF0C\u5B83\u751A\u81F3\u662F\u4E00\u79CD\u601D\u60F3\u3002\u63A5\u4E0B\u6765\u8BA9\u6211\u4EEC\u4E00\u8D77\u63ED\u5F00\u6563\u5217\u8868\u795E\u79D8\u7684\u9762\u7EB1\u3002</p><p>\u5047\u5982\uFF0C\u6211\u4EEC\u8981\u5B58\u50A8 key \u4E3A 6\u30012019\u30012333333 \u7684\u4E09\u7EC4\u6570\u636E\uFF0C\u5982\u679C\u7528\u6570\u7EC4\u6765\u5B58\uFF0C\u81F3\u5C11\u9700\u8981\u4E00\u4E2A\u957F\u5EA6\u4E3A 2333333 \u7684\u6570\u7EC4\u6765\u505A\u8FD9\u4EF6\u4E8B\u60C5\uFF0C\u663E\u7136\u8FD9\u79CD\u505A\u6CD5\u5B58\u5728\u5927\u91CF\u7684\u7A7A\u95F4\u6D6A\u8D39\u3002</p><p>\u6211\u4EEC\u4E5F\u53EF\u4EE5\u50CF\u4E0B\u56FE\u4E00\u6837\uFF0C\u51C6\u5907\u4E00\u4E2A\u957F\u5EA6\u4E3A 10 \u7684\u6570\u7EC4\uFF08bucket array\uFF09\uFF0C\u5C06\u6BCF\u4E00\u4E2A key \u901A\u8FC7\u4E00\u4E2A\u6563\u5217\u51FD\u6570\uFF08hash function\uFF09\uFF0C\u6620\u5C04\u5230\u6876\u6570\u7EC4\u4E2D\u7684\u4E00\u4F4D\uFF0C\u5C06 key \u76F8\u5E94\u7684\u503C\u76F4\u63A5\u5B58\u5165\u5373\u53EF\u3002\u53EF\u4EE5\u770B\u5230\u8FD9\u79CD\u65B9\u5F0F\u53EA\u9700\u4F7F\u7528\u4E00\u4E2A\u957F\u5EA6\u4E3A 10 \u7684\u6570\u7EC4\uFF0C\u540C\u65F6\u67E5\u627E\u548C\u63D2\u5165\u7684\u65F6\u95F4\u590D\u6742\u5EA6\u90FD\u662F O(1)\u3002\u8FD9\u5C31\u662F\u6563\u5217\u8868\u7684\u6838\u5FC3\u601D\u60F3\u3002</p><p><img src="https://images.gitbook.cn/52397840-c57e-11e9-9d70-f58ea827d9ae" alt=""></p><p>\u6563\u5217\u8868\u4E2D\u7684\u51E0\u4E2A\u6982\u5FF5\uFF1A</p><ul><li>\u6876\uFF08bucket\uFF09\uFF0C\u7528\u6765\u76F4\u63A5\u5B58\u653E\u6216\u95F4\u63A5\u6307\u5411\u4E00\u4E2A\u6570\u636E</li><li>\u6876\u6570\u7EC4\uFF08bucket array\uFF09\u7531\u6876\u7EC4\u6210\u7684\u6570\u7EC4</li><li>\u6563\u5217\u51FD\u6570\uFF08hash function\uFF09\u5C06 key \u8F6C\u6362\u4E3A\u6876\u6570\u7EC4\u4E0B\u6807\u7684\u51FD\u6570</li></ul><p>\u4E0A\u9762\u7684\u4F8B\u5B50\u6BD4\u8F83\u7B80\u5355\uFF0C\u5982\u679C\u6211\u4EEC\u7EE7\u7EED\u5728\u4E4B\u524D\u7684\u57FA\u7840\u4E0A\u518D\u5B58\u50A8\u4E00\u4E2A key \u4E3A 9 \u7684\u6570\u636E\uFF0C\u901A\u8FC7 9 % 10 \u8BA1\u7B97\u5F97\u51FA\u7684\u4E5F\u662F\u843D\u5728\u4E0B\u6807\u4E3A 9 \u7684 bucket \u4E0A\uFF0C\u6B64\u65F6\u6709\u4E24\u4E2A\u4E0D\u540C\u7684 key \u843D\u5728\u4E86\u540C\u4E00\u4E2A bucket \u4E0A\uFF0C\u8FD9\u4E00\u73B0\u8C61\u88AB\u79F0\u4E3A\u6563\u5217\u51B2\u7A81\u3002</p><p>\u6563\u5217\u51B2\u7A81\u7406\u8BBA\u4E0A\u662F\u4E0D\u53EF\u907F\u514D\u7684\uFF0C\u6211\u4EEC\u80FD\u505A\u7684\u4F18\u5316\u4E3B\u8981\u4ECE\u4EE5\u4E0B\u4E24\u4E2A\u65B9\u9762\u5165\u624B\uFF1A</p><ul><li>\u7CBE\u5FC3\u8BBE\u8BA1\u6876\u6570\u7EC4\u957F\u5EA6\u53CA\u6563\u5217\u51FD\u6570\uFF0C\u5C3D\u53EF\u80FD\u964D\u4F4E\u51B2\u7A81\u7684\u6982\u7387</li><li>\u53D1\u751F\u51B2\u7A81\u65F6\uFF0C\u80FD\u5BF9\u51B2\u7A81\u8FDB\u884C\u6392\u89E3</li></ul><p>\u5047\u8BBE\u4E0D\u7528\u6563\u5217\u8868\u76F4\u63A5\u7528\u6570\u7EC4\u6765\u5B58\u50A8\u9700\u8981\u7684\u6570\u7EC4\u957F\u5EA6\u4E3A R\uFF0C\u7528\u6563\u5217\u8868\u5B58\u50A8\u9700\u8981\u7684\u6876\u6570\u7EC4\u957F\u5EA6\u4E3A M\uFF0C\u9700\u8981\u5B58\u50A8\u7684\u5143\u7D20\u4E2A\u6570\u4E3A N\uFF0C\u5219\u4E00\u5B9A\u5B58\u5728\u4EE5\u4E0B\u5173\u7CFB <code>N &lt; M &lt;&lt; R</code>\uFF0C\u53EA\u6709\u8FD9\u6837\u6563\u5217\u8868\u624D\u80FD\u65E2\u4FDD\u6301\u64CD\u4F5C\u7684\u9AD8\u6548\u540C\u65F6\u8D77\u5230\u8282\u7701\u7A7A\u95F4\u7684\u6548\u679C\u3002</p><p>\u5176\u4E2D\uFF0CN / M \u79F0\u4E3A\u6563\u5217\u8868\u7684\u88C5\u8F7D\u56E0\u5B50\uFF0C\u5F53\u88C5\u8F7D\u56E0\u5B50\u8D85\u8FC7\u4E00\u5B9A\u7684\u9608\u503C\u65F6\uFF0C\u9700\u8981\u5BF9\u6876\u6570\u7EC4\u6269\u5BB9\u5E76 rehash\u3002</p><p>\u7406\u60F3\u7684\u6563\u5217\u51FD\u6570\u9075\u5FAA\u4EE5\u4E0B\u7684\u8BBE\u8BA1\u539F\u5219\uFF1A</p><ul><li>\u786E\u5B9A\uFF1A\u540C\u4E00 key \u603B\u662F\u88AB\u6620\u5C04\u81F3\u540C\u4E00\u5730\u5740</li><li>\u9AD8\u6548\uFF1A\u63D2\u5165/\u67E5\u627E/\u5220\u9664 excepted-O(1) \u65F6\u95F4\u590D\u6742\u5EA6</li><li>\u6EE1\u5C04\uFF1A\u5C3D\u53EF\u80FD\u5145\u5206\u5730\u8986\u76D6\u6574\u4E2A\u6876\u6570\u7EC4\u7A7A\u95F4</li><li>\u5747\u5300\uFF1Akey \u6620\u5C04\u5230\u6876\u6570\u7EC4\u5404\u4F4D\u7F6E\u7684\u6982\u7387\u5C3D\u91CF\u63A5\u8FD1</li></ul><p>\u5E38\u7528\u7684\u6563\u5217\u51FD\u6570\u5982\u4E0B\u3002</p><p><strong>\u9664\u4F59\u6CD5</strong></p><p><code>hash(key) = key % M</code>\uFF0C\u76F4\u63A5\u5BF9 key \u6309\u6876\u6570\u7EC4\u7684\u957F\u5EA6\u53D6\u4F59\uFF0C\u8FD9\u79CD\u65B9\u6CD5\u975E\u5E38\u7B80\u5355\uFF0C\u4F46\u5B58\u5728\u4EE5\u4E0B\u7F3A\u9677\u3002</p><ul><li>\u5B58\u5728\u4E0D\u52A8\u70B9\uFF1A\u65E0\u8BBA\u6876\u6570\u7EC4\u957F\u5EA6 M \u53D6\u4F55\u503C\uFF0C\u603B\u6709 <code>hash(0) = 0</code>\uFF0C\u8FD9\u4E0E\u4EFB\u4F55\u5143\u7D20\u90FD\u6709\u5747\u7B49\u7684\u6982\u7387\u88AB\u6620\u5C04\u5230\u4EFB\u4F55\u4F4D\u7F6E\u7684\u539F\u5219\u76F8\u8FDD\u80CC\u3002</li><li>\u96F6\u9636\u5747\u5300\uFF1A<code>[0, R)</code> \u7684\u5173\u952E\u7801\uFF0C\u5E73\u5747\u5206\u914D\u81F3 M \u4E2A\u6876\uFF1B\u4F46\u76F8\u90BB\u5173\u952E\u7801\u7684\u6563\u5217\u5730\u5740\u4E5F\u5FC5\u76F8\u90BB\u3002</li></ul><p><strong>MAD \u6CD5 multiply-add-divide</strong></p><p><code>hash(key) = (a x key + b) % M</code>\uFF0C\u8DDF\u9664\u4F59\u6CD5\u76F8\u6BD4\uFF0C\u5F15\u5165\u7684\u53D8\u91CF b \u53EF\u4EE5\u89C6\u4F5C\u504F\u79FB\u91CF\uFF0C\u53EF\u6709\u6548\u7684\u6D88\u9664\u4E0D\u52A8\u70B9\uFF0C\u53E6\u4E00\u4E2A\u53D8\u91CF a \u626E\u6F14\u7740\u6B65\u957F\u7684\u89D2\u8272\uFF0C\u4E5F\u5C31\u662F\u8BF4\u539F\u672C\u76F8\u90BB\u7684\u5173\u952E\u7801\u5728\u7ECF\u8FC7\u6563\u5217\u540E\u6B65\u957F\u4E3A a\uFF0C\u4ECE\u800C\u4E0D\u518D\u7EE7\u7EED\u76F8\u90BB\u3002</p><p><strong>\u5E73\u65B9\u53D6\u4E2D mid-square</strong></p><p>\u53D6 <code>key^2</code> \u7684\u4E2D\u95F4\u82E5\u5E72\u4F4D\uFF0C\u6784\u6210\u5730\u5740\uFF1A</p><ul><li><code>hash(123) = 512</code> // \u4FDD\u7559 key^2 = 123^2 = 15219 \u7684\u4E2D\u95F4 3 \u4F4D</li><li><code>hash(1234567) = 556</code> // 1234567^2 = 1524155677489</li></ul><p>\u6211\u4EEC\u53EF\u4EE5\u5C06\u4E00\u4E2A\u6570\u7684\u5E73\u65B9\u8FD0\u7B97\uFF0C\u5206\u89E3\u4E3A\u4E00\u7CFB\u5217\u7684\u5DE6\u79FB\u64CD\u4F5C\u4EE5\u53CA\u82E5\u5E72\u6B21\u52A0\u6CD5\uFF0C\u4ECE\u4E0B\u56FE\u4E2D\u4E0D\u96BE\u770B\u51FA\uFF0C\u6BCF\u4E00\u4E2A\u6570\u4F4D\u90FD\u662F\u7531\u539F\u5173\u952E\u7801\u4E2D\u7684\u82E5\u5E72\u6570\u4F4D\u7ECF\u6C42\u548C\u5F97\u5230\u7684\uFF0C\u56E0\u6B64\u4E24\u4FA7\u7684\u6570\u4F4D\u7531\u66F4\u5C11\u7684\u539F\u6570\u4F4D\u6C42\u548C\u800C\u5F97\uFF0C\u8D8A\u662F\u5C45\u4E2D\u7684\u6570\u4F4D\uFF0C\u5219\u662F\u7531\u66F4\u591A\u7684\u539F\u6570\u4F4D\u79EF\u7D2F\u800C\u5F97\uFF0C\u56E0\u6B64\u622A\u53D6\u5C45\u4E2D\u7684\u82E5\u5E72\u4F4D\uFF0C\u53EF\u4F7F\u5F97\u539F\u5173\u952E\u7801\u7684\u5404\u6570\u4F4D\u90FD\u80FD\u5BF9\u6700\u7EC8\u7ED3\u679C\u4EA7\u751F\u5F71\u54CD\uFF0C\u4ECE\u800C\u5B9E\u73B0\u66F4\u597D\u7684\u5747\u5300\u6027</p><p><img src="https://images.gitbook.cn/c06093f0-c71b-11e9-9e56-8d3dec542204" alt=""></p><p><strong>\u591A\u9879\u5F0F\u6CD5</strong></p><p>\u5728\u5B9E\u9645\u5E94\u7528\u4E2D\uFF0C\u6211\u4EEC\u7684 key \u4E0D\u4E00\u5B9A\u90FD\u662F\u6574\u6570\u5F62\u5F0F\uFF0C\u56E0\u6B64\u5F80\u5F80\u9700\u8981\u4E00\u4E2A\u9884\u5904\u7406\u5C06\u5176\u8F6C\u6362\u4E3A\u6563\u5217\u7801(hashcode)\uFF0C\u7136\u540E\u624D\u53EF\u4EE5\u5BF9\u5176\u8FDB\u4E00\u6B65\u5904\u7406\u4E3A\u6876\u6570\u7EC4\u7684\u4E0B\u6807\u5730\u5740\u3002\u6574\u4E2A\u8FC7\u7A0B\u53EF\u4EE5\u63CF\u8FF0\u4E3A key \u2192 hashcode \u2192 bucket addr\uFF0C\u591A\u9879\u5F0F\u6CD5\u5C31\u662F\u4E00\u79CD\u6709\u6548\u7684\u5C06\u5B57\u7B26\u4E32 key \u8F6C\u6362\u4E3A hashcode \u7684\u65B9\u6CD5 \u5BF9\u4E8E\u4E00\u4E2A\u957F\u5EA6\u4E3A n \u7684\u5B57\u7B26\u4E32\uFF0C\u5176\u8BA1\u7B97\u8FC7\u7A0B\u5982\u4E0B\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">hash(x0 x1 ... xn-1) = x0 * a^(n-1) + x1 * a^(n-2) ... + xn-2 * a + xn-1 </span></span>
<span class="line"><span style="color:#A6ACCD;">// \u5982\u679C\u4E0A\u9762\u7684\u4E0D\u662F\u5F88\u7406\u89E3\uFF0C\u5B83\u5176\u5B9E\u7B49\u4EF7\u4E8E\u4E0B\u9762\u8FD9\u6837</span></span>
<span class="line"><span style="color:#A6ACCD;">(...((x0 * a + x1) * a + x2) * a + ... xn-2) * a + xn-1)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u8FD9\u4E2A\u591A\u9879\u5F0F\u53EF\u4EE5\u5728 O(n) \u800C\u4E0D\u662F O(n2) \u7684\u65F6\u95F4\u590D\u6742\u5EA6\u5185\u8BA1\u7B97\u51FA\u7ED3\u679C\uFF0C\u5177\u4F53\u8BC1\u660E\u7684\u8FC7\u7A0B\u8FD9\u91CC\u5C31\u4E0D\u8BE6\u7EC6\u5C55\u5F00\u4E86\u3002</p><p>\u5728\u5B9E\u9645\u7684\u5DE5\u7A0B\u4E2D\u4F1A\u91C7\u7528\u5982\u4E0B\u8FD9\u79CD\u8FD1\u4F3C\u591A\u9879\u5F0F\uFF0C\u4F46\u66F4\u5FEB\u6377\u7684\u505A\u6CD5\uFF1A</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">function hash(key) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    let h = 0</span></span>
<span class="line"><span style="color:#A6ACCD;">    for (let n = key.length, i = 0; i != n; i++) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        h = (h &lt;&lt; 5 | h &gt;&gt; 27)</span></span>
<span class="line"><span style="color:#A6ACCD;">        h += key[i].charCodeAt()</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    return h &gt;&gt;&gt; 0</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>\u901A\u8FC7\u4E00\u4E2A\u5FAA\u73AF\u4F9D\u6B21\u5904\u7406\u5B57\u7B26\u4E32\u7684\u6BCF\u4E00\u4E2A\u5B57\u7B26\uFF0C\u5BF9\u4E8E\u6BCF\u4E00\u4E2A\u5B57\u7B26\u5C06\u5B83\u8F6C\u6362\u4E3A\u6574\u6570\u540E\u7D2F\u52A0\uFF0C\u5728\u7D2F\u52A0\u4E4B\u524D\u5BF9\u539F\u6709\u7684\u7D2F\u79EF\u503C\uFF0C\u90FD\u6309\u7167 h &lt;&lt; 5 | h &gt;&gt; 27 \u8FD9\u6837\u7684\u89C4\u5219\u505A\u4E00\u4E2A\u6570\u4F4D\u53D8\u6362</p><p><img src="https://images.gitbook.cn/81040300-c747-11e9-a05e-8fabd2e19d71" alt="bit- operations"></p><p>\u8FD9\u4E00\u4E0D\u65AD\u8C03\u6574\u7D2F\u52A0\u7684\u8FC7\u7A0B\uFF0C\u5B9E\u9645\u4E0A\u53EF\u4EE5\u662F\u4F5C\u4E3A\u662F\u5BF9\u4EE5\u4E0A\u591A\u9879\u5F0F\u8BA1\u7B97\u7684\u8FD1\u4F3C\uFF0C\u53EA\u4E0D\u8FC7\u8FD9\u91CC\u6D88\u9664\u6389\u4E86\u76F8\u5BF9\u8017\u65F6\u7684\u4E58\u6CD5\u8FD0\u7B97\uFF0C\u81F3\u4E8E\u5982\u4F55\u7406\u89E3\u548C\u89E3\u91CA\u8FD9\u79CD\u8FD1\u4F3C\u7684\u6548\u679C\uFF0C\u53EF\u4EE5\u4F5C\u4E3A\u672C\u6587\u8BFE\u540E\u7684\u4E00\u9879\u4F5C\u4E1A\u3002</p><p>\u9664\u4E86\u4E0A\u6587\u8BB2\u5230\u7684\u65B9\u6CD5\u5916\uFF0C\u8FD8\u6709\u975E\u5E38\u591A\u7684\u6563\u5217\u51FD\u6570\u7684\u65B9\u6CD5\uFF0C\u5982\u6298\u53E0\u6CD5\u3001\u4F4D\u5F02\u6216\u6CD5\u3001\uFF08\u4F2A\uFF09\u968F\u673A\u6570\u6CD5\uFF0C\u6B64\u7C7B\u65B9\u6CD5\u6797\u6797\u603B\u603B\uFF0C\u6BCF\u79CD\u65B9\u6CD5\u90FD\u6709\u5404\u81EA\u7684\u7279\u70B9\u53CA\u5E94\u7528\u7684\u573A\u666F\uFF0C\u7531\u4E8E\u7BC7\u5E45\u539F\u56E0\u8FD9\u91CC\u5C31\u4E0D\u518D\u5C55\u5F00\u4E86\uFF0C\u611F\u5174\u8DA3\u7684\u8BFB\u8005\u53EF\u4EE5\u5728\u8BFB\u8005\u7FA4\u4E2D\u7EE7\u7EED\u7814\u7A76\u548C\u63A2\u8BA8\u3002</p><p>\u603B\u4E4B\u6563\u5217\u51FD\u6570\u4EA7\u751F\u7684\u5173\u952E\u7801\u8D8A\u662F\u968F\u673A\uFF0C\u8D8A\u662F\u6CA1\u6709\u89C4\u5F8B\u5C31\u8D8A\u597D\u3002</p><p><strong>\u51B2\u7A81\u89E3\u51B3\u65B9\u6CD5</strong></p><p>\u4E3B\u8981\u7684\u5904\u7406\u6563\u5217\u8868\u51B2\u7A81\u7684\u65B9\u6CD5\u6709\u5F00\u94FE\u6CD5\u548C\u63A2\u6D4B\u6CD5\u8FD9\u4E24\u7C7B\u3002</p><ul><li><strong>\u5F00\u94FE\u6CD5\uFF08linked-list chaining / seperate chaining\uFF09</strong></li></ul><p>\u6BCF\u4E2A\u6876\u5B58\u653E\u4E00\u4E2A\u6307\u9488\uFF0C\u5C06\u51B2\u7A81\u7684 key \u4EE5\u94FE\u8868\u7684\u5F62\u5F0F\u7EC4\u7EC7\u8D77\u6765\uFF0C\u8FD9\u79CD\u5904\u7406\u65B9\u5F0F\u6700\u5927\u7684\u4F18\u70B9\u662F\u80FD\u89E3\u51B3\u4EFB\u610F\u6B21\u6570\u7684\u51B2\u7A81\uFF0C\u4F46\u7F3A\u70B9\u4E5F\u5F88\u660E\u663E\uFF0C\u6700\u6781\u7AEF\u7684\u60C5\u51B5\u6240\u6709\u7684 key \u6570\u636E\u90FD\u843D\u5728\u4E00\u4E2A\u6876\u4E0A\u65F6\uFF0C\u6563\u5217\u8868\u5C06\u9000\u5316\u4E3A\u4E00\u4E2A\u94FE\u8868\uFF0C\u67E5\u627E\u63D2\u5165\u5220\u9664\u7684\u590D\u6742\u5EA6\u90FD\u5C06\u53D8\u6210 O(n)\u3002</p><p><img src="https://images.gitbook.cn/23cf29b0-c749-11e9-9e56-8d3dec542204" alt=""></p><ul><li><strong>\u63A2\u6D4B\u6CD5\uFF08open addressing / closed hashing\uFF09</strong></li></ul><p>\u63A2\u6D4B\u6CD5\u6240\u6709\u7684\u51B2\u7A81\u90FD\u5728\u8FD9\u5757\u8FDE\u7EED\u7684\u7A7A\u95F4\u4E2D\u52A0\u4EE5\u6392\u89E3\uFF0C\u800C\u4E0D\u7528\u50CF\u5F00\u94FE\u6CD5\u90A3\u6837\u7533\u8BF7\u989D\u5916\u7684\u7A7A\u95F4\u3002\u5F53\u5B58\u5165\u4E00\u4E2A key \u65F6\uFF0C\u6240\u6709\u7684\u6876\u90FD\u6309\u7167\u67D0\u79CD\u4F18\u5148\u7EA7\u5173\u7CFB\u6392\u6210\u4E00\u4E2A\u5E8F\u5217\uFF0C\u4ECE\u672C\u8BE5\u5C5E\u4E8E\u8BE5 key \u7684\u6876\u51FA\u53D1\uFF0C\u987A\u6B21\u67E5\u770B\u6BCF\u4E00\u4E2A\u6876\u76F4\u5230\u627E\u5230\u53EF\u7528\u7684\u6876\u3002\u6BCF\u4E2A key \u5BF9\u5E94\u7684\u8FD9\u6837\u7684\u4E00\u4E2A\u5E8F\u5217\uFF0C\u79F0\u4E3A\u8BD5\u63A2\u5E8F\u5217\u6216\u8005\u67E5\u627E\u94FE\uFF0C\u5728\u67E5\u627E key \u65F6\uFF0C\u6CBF\u67E5\u627E\u94FE\u67E5\u627E\u6709\u4E24\u79CD\u7ED3\u679C\uFF0C\u5728\u6876\u4E2D\u627E\u5230\u4E86\u67E5\u8BE2\u7684 key \u4E5F\u5C31\u662F\u67E5\u627E\u6210\u529F\uFF0C\u8FD8\u6709\u7684\u4E00\u79CD\u53EF\u80FD\u662F\u627E\u5230\u4E00\u4E2A\u7A7A\u6876\uFF0C\u5219\u8BF4\u660E\u67E5\u627E\u5931\u8D25\uFF0C\u6CA1\u6709\u8FD9\u4E2A key\u3002</p><p>\u6700\u7B80\u5355\u7684\u8BD5\u63A2\u5E8F\u5217\u7684\u751F\u6210\u65B9\u6CD5\u53EB\u505A\u7EBF\u6027\u8BD5\u63A2\uFF08Linear probing\uFF09\uFF0C\u5177\u4F53\u505A\u6CD5\u662F\u4E00\u65E6\u53D1\u751F\u51B2\u7A81\uFF0C\u5219\u8BD5\u63A2\u540E\u4E00\u4E2A\u7D27\u90BB\u7684\u6876\u5355\u5143\uFF0C\u76F4\u5230\u6210\u529F\u6216\u5931\u8D25\u3002\u8FD9\u79CD\u505A\u6CD5\u7684\u4F18\u70B9\u662F\u65E0\u9700\u9644\u52A0\u7684\uFF08\u6307\u9488\u3001\u94FE\u8868\u7B49\uFF09\u7A7A\u95F4\uFF0C\u7F3A\u70B9\u4E5F\u5F88\u660E\u663E\uFF0C\u4EE5\u5F80\u7684\u51B2\u7A81\u4F1A\u5BFC\u81F4\u540E\u7EED\u7684\u51B2\u7A81\u3002</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">[hash(key) + 1] % M</span></span>
<span class="line"><span style="color:#A6ACCD;">[hash(key) + 2] % M</span></span>
<span class="line"><span style="color:#A6ACCD;">[hash(key) + 3] % M</span></span>
<span class="line"><span style="color:#A6ACCD;">...</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u7EBF\u6027\u8BD5\u63A2\u7684\u95EE\u9898\u6839\u6E90\u5728\u4E8E\u5927\u90E8\u5206\u7684\u8BD5\u63A2\u4F4D\u7F6E\u90FD\u96C6\u4E2D\u5728\u67D0\u4E00\u4E2A\u76F8\u5BF9\u8F83\u5C0F\u7684\u5C40\u90E8\uFF0C\u56E0\u6B64\u4F18\u5316\u7EBF\u6027\u8BD5\u63A2\u7684\u65B9\u5F0F\u5C31\u662F\u9002\u5F53\u7684\u62C9\u5F00\u5404\u6B21\u63A2\u6D4B\u7684\u95F4\u8DDD\uFF0C\u5E73\u65B9\u8BD5\u63A2\uFF08Quadratic Probing\uFF09\u5C31\u662F\u57FA\u4E8E\u8FD9\u4E00\u4F18\u5316\u601D\u8DEF\u7684\u5177\u4F53\u5B9E\u73B0\u65B9\u5F0F\uFF0C\u6240\u8C13\u5E73\u65B9\u8BD5\u63A2\u987E\u540D\u601D\u4E49\u5C31\u662F\u4EE5\u5E73\u65B9\u6570\u4E3A\u8DDD\u79BB\uFF0C\u786E\u5B9A\u4E0B\u4E00\u8BD5\u63A2\u6876\u5355\u5143\u3002</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">[hash(key) + 1^2] % M</span></span>
<span class="line"><span style="color:#A6ACCD;">[hash(key) + 2^2] % M</span></span>
<span class="line"><span style="color:#A6ACCD;">[hash(key) + 3^2] % M</span></span>
<span class="line"><span style="color:#A6ACCD;">...</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u76F8\u5BF9\u4E8E\u7EBF\u6027\u8BD5\u63A2\uFF0C\u5E73\u65B9\u63A2\u6D4B\u7684\u786E\u53EF\u4EE5\u5728\u5F88\u5927\u7A0B\u5EA6\u4E0A\u7F13\u89E3\u6570\u636E\u805A\u96C6\u7684\u73B0\u8C61\uFF0C\u67E5\u627E\u94FE\u4E0A\uFF0C\u5404\u6876\u95F4\u8DDD\u7EBF\u6027\u9012\u589E\uFF0C\u4E00\u65E6\u51B2\u7A81\uFF0C\u53EF\u4ECE\u6CA1\u5730\u9003\u79BB\u662F\u975E\u4E4B\u5730\u3002</p><h2 id="\u6563\u5217\u8868\u7684\u5B9E\u73B0" tabindex="-1">\u6563\u5217\u8868\u7684\u5B9E\u73B0 <a class="header-anchor" href="#\u6563\u5217\u8868\u7684\u5B9E\u73B0" aria-hidden="true">#</a></h2><p>\u6700\u540E\u7528 JavaScript \u6765\u6A21\u62DF\u5B9E\u73B0\u4E00\u4E0B hashtable\uFF0C\u8FD9\u91CC\u6211\u4EEC\u91C7\u7528\u5F00\u94FE\u6CD5\u6765\u89E3\u51B3\u6563\u5217\u7684\u51B2\u7A81\u3002</p><div class="language-text line-numbers-mode"><button class="copy"></button><span class="lang">text</span><pre><code><span class="line"><span style="color:#A6ACCD;">// \u5355\u5411\u94FE\u8868\u8282\u70B9</span></span>
<span class="line"><span style="color:#A6ACCD;">class ForwardListNode {</span></span>
<span class="line"><span style="color:#A6ACCD;">    constructor(key, value) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.key = key</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.value = value</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.next = null</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">class Hashtable {</span></span>
<span class="line"><span style="color:#A6ACCD;">  constructor(bucketSize = 97) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    this._bucketSize = bucketSize</span></span>
<span class="line"><span style="color:#A6ACCD;">    this._size = 0</span></span>
<span class="line"><span style="color:#A6ACCD;">    this._buckets = new Array(this._bucketSize)</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  hash(key) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    let h = 0</span></span>
<span class="line"><span style="color:#A6ACCD;">    for (let n = key.length, i = 0; i != n; i++) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      h = (h &lt;&lt; 5 | h &gt;&gt; 27)</span></span>
<span class="line"><span style="color:#A6ACCD;">      h += key[i].charCodeAt()</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    return (h &gt;&gt;&gt; 0) % this._bucketSize</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  // Modifiers</span></span>
<span class="line"><span style="color:#A6ACCD;">  put(key, value){</span></span>
<span class="line"><span style="color:#A6ACCD;">    let index = this.hash(key);</span></span>
<span class="line"><span style="color:#A6ACCD;">    let node = new ForwardListNode(key, value)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    if (!this._buckets[index]) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      // \u5982\u679C\u6876\u662F\u7A7A\u7684\uFF0C\u5219\u76F4\u63A5\u628A\u65B0\u8282\u70B9\u653E\u5165\u6876\u4E2D\u5373\u53EF</span></span>
<span class="line"><span style="color:#A6ACCD;">      this._buckets[index] = node</span></span>
<span class="line"><span style="color:#A6ACCD;">    } else {</span></span>
<span class="line"><span style="color:#A6ACCD;">      // \u5982\u679C\u6876\u4E0D\u4E3A\u7A7A\uFF0C\u5219\u5728\u94FE\u8868\u5934\u63D2\u5165\u65B0\u8282\u70B9</span></span>
<span class="line"><span style="color:#A6ACCD;">      node.next = this._buckets[index]</span></span>
<span class="line"><span style="color:#A6ACCD;">      this._buckets[index] = node</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    this._size++</span></span>
<span class="line"><span style="color:#A6ACCD;">    return index</span></span>
<span class="line"><span style="color:#A6ACCD;">  }  </span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  delete(key) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    let index = this.hash(key)</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (!this._buckets[index]) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      return false</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // \u6DFB\u52A0\u4E00\u4E2A\u865A\u62DF\u5934\u8282\u70B9\uFF0C\u65B9\u4FBF\u540E\u9762\u7684\u5220\u9664\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#A6ACCD;">    let dummy = new ForwardListNode(null, null)</span></span>
<span class="line"><span style="color:#A6ACCD;">    dummy.next = this._buckets[index]</span></span>
<span class="line"><span style="color:#A6ACCD;">    let cur = dummy.next, pre = dummy</span></span>
<span class="line"><span style="color:#A6ACCD;">    while (cur) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      if (cur.key === key) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        // \u4ECE\u94FE\u8868\u5220\u9664\u8BE5\u8282\u70B9</span></span>
<span class="line"><span style="color:#A6ACCD;">        pre.next = cur.next</span></span>
<span class="line"><span style="color:#A6ACCD;">        cur = pre.next</span></span>
<span class="line"><span style="color:#A6ACCD;">        this._size--</span></span>
<span class="line"><span style="color:#A6ACCD;">      } else {</span></span>
<span class="line"><span style="color:#A6ACCD;">        pre =  cur</span></span>
<span class="line"><span style="color:#A6ACCD;">        cur = cur.next</span></span>
<span class="line"><span style="color:#A6ACCD;">      }</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    this._buckets[index] = dummy.next</span></span>
<span class="line"><span style="color:#A6ACCD;">    return true</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  // Lookup</span></span>
<span class="line"><span style="color:#A6ACCD;">  find(key){</span></span>
<span class="line"><span style="color:#A6ACCD;">    let index = this.hash(key);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // \u5982\u679C\u5BF9\u5E94\u7684 bucket \u4E3A\u7A7A\uFF0C\u8BF4\u660E\u4E0D\u5B58\u5728\u6B64 key</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (!this._buckets[index]) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      return null</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // \u904D\u5386\u5BF9\u5E94\u6876\u7684\u94FE\u8868</span></span>
<span class="line"><span style="color:#A6ACCD;">    let p = this._buckets[index]</span></span>
<span class="line"><span style="color:#A6ACCD;">    while (p) {</span></span>
<span class="line"><span style="color:#A6ACCD;">      // \u627E\u5230 key</span></span>
<span class="line"><span style="color:#A6ACCD;">      if (p.key === key) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        return p.value</span></span>
<span class="line"><span style="color:#A6ACCD;">      }</span></span>
<span class="line"><span style="color:#A6ACCD;">      p = p.next</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    return null</span></span>
<span class="line"><span style="color:#A6ACCD;">  } </span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  // Capacity</span></span>
<span class="line"><span style="color:#A6ACCD;">  size() {</span></span>
<span class="line"><span style="color:#A6ACCD;">      return this._size</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  isEmpty() {</span></span>
<span class="line"><span style="color:#A6ACCD;">      return this._size == 0</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br></div></div><h2 id="\u603B\u7ED3" tabindex="-1">\u603B\u7ED3 <a class="header-anchor" href="#\u603B\u7ED3" aria-hidden="true">#</a></h2><p>\u8FD9\u4E00\u8282\u8BFE\u6211\u4EEC\u4ECB\u7ECD\u4E86\u548C\u524D\u7AEF\u6700\u4E3A\u8D34\u5408\u7684\u51E0\u79CD\u6570\u636E\u7ED3\u6784\uFF0C\u867D\u7136\u7BC7\u5E45\u8F83\u957F\uFF0C\u4F46\u662F\u5185\u5BB9\u7B97\u4E0D\u4E0A\u592A\u96BE\u3002\u4E00\u4E9B\u57FA\u672C\u6982\u5FF5\u5E76\u6CA1\u6709\u6DF1\u5165\u8BB2\u89E3\uFF0C \u56E0\u4E3A\u6570\u636E\u7ED3\u6784\u66F4\u91CD\u8981\u7684\u662F\u5E94\u7528\uFF0C\u6211\u5E0C\u671B\u8BFB\u8005\u80FD\u591F\u505A\u5230\u7684\u662F\uFF1A\u5728\u9700\u8981\u7684\u573A\u666F\uFF0C\u80FD\u591F\u60F3\u5230\u6700\u4E3A\u9002\u5408\u7684\u6570\u636E\u7ED3\u6784\u5904\u7406\u95EE\u9898\u3002\u8BF7\u8BFB\u8005\u52A1\u5FC5\u638C\u63E1\u597D\u8FD9\u4E9B\u5185\u5BB9\uFF0C\u63A5\u4E0B\u6765\u7684\u7B97\u6CD5\u7AE0\u8282\u9700\u8981\u5BF9\u6570\u636E\u7ED3\u6784\u6709\u4E00\u4E2A\u8F83\u4E3A\u719F\u7EC3\u5730\u638C\u63E1\u548C\u4E86\u89E3\u3002</p>`,230),r=[e];function c(i,o,t,b,A,C){return n(),a("div",null,r)}const y=s(p,[["render",c]]);export{m as __pageData,y as default};
